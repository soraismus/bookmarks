Smashing Magazine[![Smashing Magazine](http://coding.smashingmagazine.com/wp-content/themes/smashingv4/images/logo.png "Jump to the front page")](http://www.smashingmagazine.com/)
===================================================================================================================================================================================

[Menu](#mobile-navigation-footer) [Search](#mobile-search-footer)

-   [![Smashing
    Magazine](http://coding.smashingmagazine.com/wp-content/themes/smashingv4/images/logo.png "Jump to the front page")](http://www.smashingmagazine.com/)
-   [Books](http://www.smashingmagazine.com/books/)
-   [Library](http://www.smashingmagazine.com/ebooks/)[![Smashing
    Library](http://media.smashingmagazine.com/themes/smashingv4/images/navilittlebook.png)](http://www.smashingmagazine.com/ebooks/)
-   [Workshops](http://www.smashingmagazine.com/workshops/)
-   [Job Board](http://jobs.smashingmagazine.com/)

-   [RSS](http://rss1.smashingmagazine.com/feed/ "Subscribe to our RSS-feed (1100K)")
-   [Facebook](http://www.facebook.com/smashmag "Join our Facebook page! (165k)")
-   [Twitter](http://twitter.com/smashingmag "Follow us on Twitter! (748k)")
-   [Newsletter](http://www.smashingmagazine.com/the-smashing-newsletter/ "Subscribe to our Email Newsletter (168k)")

Search

-   [Coding](http://coding.smashingmagazine.com)
    -   [CSS](http://coding.smashingmagazine.com/tag/css/)
    -   [HTML](http://coding.smashingmagazine.com/tag/html/)
    -   [JavaScript](http://coding.smashingmagazine.com/tag/javascript/)
    -   [Techniques](http://coding.smashingmagazine.com/tag/techniques/)

-   [Design](http://www.smashingmagazine.com/category/design/)
    -   [Web Design](http://www.smashingmagazine.com/tag/web-design/)
    -   [Typography](http://www.smashingmagazine.com/tag/typography/)
    -   [Inspiration](http://www.smashingmagazine.com/tag/inspiration/)
    -   [Business](http://www.smashingmagazine.com/tag/business/)

-   [Mobile](http://mobile.smashingmagazine.com)
    -   [Responsive](http://mobile.smashingmagazine.com/tag/responsive-design/)
    -   [iPhone & iPad](http://mobile.smashingmagazine.com/tag/ios/)
    -   [Android](http://mobile.smashingmagazine.com/tag/android/)
    -   [Design
        Patterns](http://mobile.smashingmagazine.com/tag/design-patterns/)

-   [Graphics](http://www.smashingmagazine.com/category/graphics/)
    -   [Photoshop](http://www.smashingmagazine.com/tag/photoshop/)
    -   [Fireworks](http://fireworks.smashingmagazine.com)
    -   [Wallpapers](http://www.smashingmagazine.com/tag/wallpapers/)
    -   [Freebies](http://www.smashingmagazine.com/tag/freebies/)

-   [UX Design](http://uxdesign.smashingmagazine.com)
    -   [Usability](http://uxdesign.smashingmagazine.com/tag/usability/)
    -   [User
        Experience](http://uxdesign.smashingmagazine.com/tag/user-experience/)
    -   [UI Design](http://uxdesign.smashingmagazine.com/tag/ui/)
    -   [E-Commerce](http://uxdesign.smashingmagazine.com/tag/e-commerce/)

-   [WPWordPress](http://wp.smashingmagazine.com)
    -   [Essentials](http://wp.smashingmagazine.com/tag/essentials/)
    -   [Techniques](http://wp.smashingmagazine.com/tag/techniques/)
    -   [Plugins](http://wp.smashingmagazine.com/tag/plugins/)
    -   [Themes](http://wp.smashingmagazine.com/tag/themes/)

\

[Optimizing Long Lists Of Yes/No Values With JavaScript](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/ "Read 'Optimizing Long Lists Of Yes/No Values With JavaScript'")
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-   By [Lea
    Verou](http://coding.smashingmagazine.com/author/lea-verou/?rel=author "Posts by Lea Verou")
-   -   October 19th, 2011
-   [JavaScript](http://coding.smashingmagazine.com/tag/javascript/)
-   [65
    Comments](#comments "Comment on Optimizing Long Lists Of Yes/No Values With JavaScript")

Advertisement

Very frequently in Web development (and programming in general), you
need to store a long list of boolean values (yes/no, true/false,
checked/unchecked… you get the idea) into something that accepts only
strings. Maybe it’s because you want to store them in `localStorage` or
in a cookie, or send them through the body of an HTTP request. I’ve
needed to do this countless times.

The last time I stumbled on such a case wasn’t with my own code. It was
when [Christian Heilmann](http://twitter.com/#!/codepo8) showed me his
[then new slide deck](http://icant.co.uk/talks/koc2011/), with a cool
feature where you could toggle the visibility of individual slides in
and out of the presentation. On seeing it, I was impressed. Looking more
closely, though, I realized that the checkbox states did not persist
after the page reloaded. So, someone could spend a long time carefully
tweaking their slides, only to accidentally hit F5 or crash their
browser, and then — boom! — all their work would be lost. Christian told
me that he was already working on storing the checkbox states in
`localStorage`. Then, naturally, we endlessly debated the storage
format. That debate inspired me to write this article, to explore the
various approaches in depth.

### Using An Array

We have two (reasonable) ways to model our data in an array. One is to
store true/false values, like so:

    [false, true, true, false, false, true, true]

The other is to store an array of 0s and 1s, like so:

    [0, 1, 1, 0, 0, 1, 1]

Whichever solution we go with, we will ultimately have to convert it to
a string, and then convert it back to an array when it is read. We have
two ways to proceed: either with the old `Array#join()` (or
`Array#toString()`) and `String#split()`, or with the fancier
`JSON.stringify()` and `JSON.parse()`.

With the JSON way, the code will be somewhat shorter, although it is the
JavaScript equivalent of slicing bread with a chainsaw. [Not only there
is a performance impact in most
browsers](http://jsperf.com/json-vs-split-join-for-simple-arrays), but
you’re also cutting down browser support quite a bit.

The main drawback of using array-based strings is their size in bytes.
If you go with the number method, you would use almost 2 characters per
number (or, more precisely, `2N − 1`, since you’d need one delimiter per
number, except for the last one):

    [0, 1, 1, 0, 0, 1, 1].toString().length // 13, for 7 values

So, for 512 numbers, that would be 1023 characters or 2 KB, since
[JavaScript uses UTF-16](http://es5.github.com/#x4.3.16). If you go with
the boolean method, it’s even worse:

    [false, true, true, false, false, true, true].toString().length // 37, also for 7 values

That’s around 5 to 6 characters per value, so 2560 to 3072 characters
for 512 numbers (which is 5 to 6 KB). `JSON.stringify()` even wastes 2
more characters in each case, for the opening and closing brackets, but
its advantage is that you get your original value types back with
`JSON.parse()` instead of strings.

### Using A String

Using a string saves some space, because no delimiters are involved. For
example, if you go with the number approach and store strings like
`'01001101010111'`, you are essentially storing one character per value,
which is 100% better than the better of the two previous approaches. You
can then get the values into an array by using `String#split`:

    '01001101010111'.split(''); // ['0','1','0','0','1','1','0','1','0','1','0','1','1','1']

Or you could just loop over the string using `string.charAt(i)` — or
even the string indexes (`string[i]`), if you don’t care about older
browsers.

### Using Bitfields

Did the previous method make you think of binary numbers? It’s not just
you. The concept of [bitfields](http://en.wikipedia.org/wiki/Bit_field)
is quite popular in other programming languages, but not so much in
JavaScript. In a nutshell, bitfields are used to pack a lot of boolean
values into **the bits** of the boolean representation of a number. For
example, if you have eight values (true, false, false, true, false,
true, true, false), the number would be 10010110 in binary; so, 150 in
decimal and 96 in hex. That’s 2 characters instead of 8, so **75%
saved**. In general, 1 digit in the hex representation corresponds to
exactly 4 bits. (That’s because `16 = 24`. In general, in a `base2n`
system, you can pack `n` bits into every `base2n` digit.) So, **we
weren’t lucky with that 75%; it’s always that much**.

Thus, instead of storing that string as a string and using 1 character
per value, we can be smarter and convert it to a (hex) number first. How
do we do that? It’s no more than a line of code:

    parseInt('10010110', 2).toString(16); // returns '96'

And how do we read it back? That’s just as simple:

    parseInt('96', 16).toString(2); // returns  '10010110'

From this point on, we can follow the same process as the previous
method to loop over the values and do something useful with them.

### Can We Do Better?

In fact, we can! Why convert it to a hex (base 16) number, which uses
only 6 of the 26 alphabet letters? The `Number#toString()` method allows
us to go up to [base 36](http://en.wikipedia.org/wiki/Base_36) (throwing
a `RangeError` for `>= 37`), which effectively uses *all* letters in the
alphabet, all the way up to z! This way, we can have a compression of up
to 6 characters for 32 values, which means saving up to 81.25% compared
to the plain string method! And the code is just as simple:

    parseInt( '1001011000', 2).toString(36); // returns 'go' (instead of '258', which would be the hex version)
    parseInt('go', 36).toString(2); // returns  '1001011000'

For some of you, this will be enough. But I can almost hear the more
inquisitive minds out there shouting, “But we have capital letters, we
have other symbols, we are still not using strings to their full
potential!” And you’d be right. There is a reason why every time you
open a binary file in a text editor, you get weird symbols mixed with
numbers, uppercase letters, lowercase letters and whatnot. Every
character in an UTF-16 string is a 2 bytes (16 bits), which means that
if we use the right compression algorithm, we should be able to store 16
yes/no values in it (saving 93.75% from the string method).

The problem is that JavaScript doesn’t offer a built-in way to do that,
so the code becomes a bit more complicated.

### Packing 16 Values Into One Character

You can use `String.fromCharCode` to get the individual characters. It
accepts a numerical value of up to 65,535 and returns a character (and
for values greater than that, it returns an empty string).

So, we have to split our string into chunks of 16 characters in size. We
can [do that through
`.match(/.{1,16}/g)`](http://stackoverflow.com/questions/7033639/javascript-split-large-string-in-n-size-chunks).
To sum up, the full solution would look like this:

    function pack(/* string */ values) {
        var chunks = values.match(/.{1,16}/g), packed = '';
        for (var i=0; i < chunks.length; i++) {
            packed += String.fromCharCode(parseInt(chunks[i], 2));
        }
        return packed;
    }

    function unpack(/* string */ packed) {
        var values = '';
        for (var i=0; i < packed.length; i++) {
            values += packed.charCodeAt(i).toString(2);
        }
        return values;
    }

It wasn’t that hard, was it?

With these few lines of code, you can pack the aforementioned 512 values
into — drum roll, please — **32 characters (64 bytes)**!

Quite an improvement over our original 2 KB (with the array method),
isn’t it?

### Limitations

Numbers in JavaScript have limits. For the methods discussed here that
involve an intermediate state of converting to a number, the limit
appears to be **1023** yes/no values, because `parseInt('1111…1111', 2)`
returns `Infinity` when the number of aces is bigger than 1023. This
limit does not apply to the last method, because we’re only converting
blocks of bits instead of the whole thing. And, of course, it doesn’t
apply to the first two methods (array and string) because they don’t
involve packing the values into an integer.

### “I Think You Took It A Bit Too Far”

This might be overkill for some cases. But it will definitely come in
handy when you want to store a lot of boolean values in any limited
space that can only store strings. And no optimization is overkill for
things that go through the wire frequently. For example, cookies are
sent on every single request, so they should be as tiny as possible.
Another use case would be online multiplayer games, for which response
times should be lightning-fast, otherwise the games wouldn’t be fun.

And even if this kind of optimization isn’t your thing, I hope you’ve
found the thought process and the code involved educational.

*(al)*

*Thanks to [Eli Grey](http://eligrey.com) and [Jonas
Wagner](http://29a.ch/) for their advice and corrections*

*Image on front page created by [Ruiwen
Chua](http://www.flickr.com/photos/7162499@N02/3260095534/).*

**Tags:**[JavaScript](http://coding.smashingmagazine.com/tag/javascript/ "View all articles tagged 'JavaScript' (77)")

[↑ Back to top](#top "Jump to the top of the page")[Share on
Twitter](https://twitter.com/intent/tweet?original_referer=http%3A%2F%2Fcoding.smashingmagazine.com%2F2011%2F10%2F19%2Foptimizing-long-lists-of-yesno-values-with-javascript%2F&source=tweetbutton&text=Optimizing%20Long%20Lists%20Of%20Yes%2FNo%20Values%20With%20JavaScript&url=http%3A%2F%2Fcoding.smashingmagazine.com%2F2011%2F10%2F19%2Foptimizing-long-lists-of-yesno-values-with-javascript%2F&via=smashingmag "Share on Twitter!")

![image](http://1.gravatar.com/avatar/7d8ffc1f0786ee745fac7bf9f3086260?s=78&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D78&r=G)

[Lea
Verou](http://coding.smashingmagazine.com/author/lea-verou/?rel=author "Posts by Lea Verou")

Lea works as a Developer Advocate for [W3C](http://w3.org). She has a
long-standing passion for open web standards, which she fulfills by
researching new ways to use them, [blogging](http://lea.verou.me),
[speaking](http://lea.verou.me/speaking),
[writing](http://lea.verou.me/publications), and coding popular open
source [projects](http://lea.verou.me/projects/) to help fellow
developers. She is a member of the [CSS Working
Group](http://www.w3.org/Style/CSS/members.en.php3), which architects
the language itself. Lea studied Computer Science in Athens University
of Economics and Business, where she co-organized and occasionally
lectured a [cutting edge Web development
course](http://lea.verou.me/2010/07/organizing-a-university-course-on-modern-web-development/)
for 4th year undergrads. She is one of the few misfits who love code and
design almost equally.

Advertising

-   [65 Comments](#show-comments)
-   [Best Comments](#best-comments)

1.  1

    ![image](http://1.gravatar.com/avatar/3287d5bb845ffffe9a08b5f26c2fac71?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### catbert

    [October 19th, 2011 12:29
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551316 "Commentlink #1")

    Oh well, Javascript developers, now we came full circle.\
     Need to learn bitwise operators again, huh? :-)

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551316#respond)

    +24

2.  2

    ![image](http://1.gravatar.com/avatar/77cdd879d4af6ba20644de9b5fb626ed?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### The Web Squad

    [October 19th, 2011 12:46
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551317 "Commentlink #2")

    I greatly appreciate this article. If you get a chance check out our
    website design.

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551317#respond)

    -123

3.  3

    ![image](http://1.gravatar.com/avatar/b32ce49142600b8f6dbcbfc42d3a01af?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Jeff Dickey

    [October 19th, 2011 12:49
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551320 "Commentlink #3")

    This article is very well written, and I really enjoyed it but is
    there a better example of how to use this? Using this on the slide
    example provides very little utility. In fact, I would not be
    surprised if all of this packing/unpacking actually reduces the
    performance.

    Sorry for being a downer, but I feel like this is a perfect example
    of premature optimization.

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551320#respond)

    +4

    -   4

        ![image](http://1.gravatar.com/avatar/7d8ffc1f0786ee745fac7bf9f3086260?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

        ### Lea Verou

        [October 19th, 2011 12:55
        pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551322 "Commentlink #4")

        The whole point of this packing/unpacking is space efficiency,
        not time efficiency. In Computer Science there’s frequently a
        tradeoff between the two.

        I mentioned some examples in the last paragraph. Are you asking
        for something more specific or you didn’t notice them? :)

        [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551322#respond)

        +2

        -   5

            ![image](http://1.gravatar.com/avatar/99f531ec83a4be7bd4f3337fcdceb5bf?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

            ### Dave

            [October 19th, 2011 1:08
            pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551325 "Commentlink #5")

            Usually if you use the word “optimizing” in terms of web
            development, and especially on the front-end with
            Javascript, it has to do with speed. At least that’s how I
            see it. Make less requests, use less data, compression, etc.

            If you’re just talking packing/unpacking of data in a more
            efficient way, you’re just refactoring your code in my mind.

            [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551325#respond)

            +5

            -   6

                ![image](http://0.gravatar.com/avatar/48563a0a01ce9349f251b07a3c563ed4?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

                ### Victor

                [October 19th, 2011 2:32
                pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551341 "Commentlink #6")

                Well, if we pack some data and send it, it will reach
                destination faster :) so we are optimizing thru
                compression on client side !!!

                GREAT JOB LEA !

                Dave your attituide is being very jelly :) I think.

                [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551341#respond)

                +2

                -   7

                    ![image](http://1.gravatar.com/avatar/96b0d87588dd8ee1855781a616c05926?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

                    ### Michael

                    [October 20th, 2011 6:59
                    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551450 "Commentlink #7")

                    I think what Dave is trying to say is that if we
                    send a value and that value because of size takes
                    250ms to transport, and 250ms to parse we have 500ms
                    impact to the user. However if we send a value and
                    that value because of size takes 50ms to transport,
                    and 450ms to parse we still have 500ms impact to the
                    user. What we would want to show from a performance
                    perspective is that there’s some net benefit.
                    Example: we reduce transport time to 50ms and
                    parsing time only rises 100ms, we have a net gain of
                    100ms each use.

                    +8

                -   8

                    ![image](http://1.gravatar.com/avatar/b97ad734d62ad7c00cdd501cb5e15321?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

                    ### Adam Fraser

                    [November 5th, 2011 9:13
                    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-553564 "Commentlink #8")

                    In response to Michael above. Your point is well
                    taken, this isn’t worth the trouble for small lists
                    of booleans and for high bandwidths. But in reality
                    transport is more often than not the bottleneck. I
                    would hardly expect unpacking to take the majority
                    of the time.

                    In any case, the question remains as to what array
                    size (for a given bandwidth) would result in a net
                    performance increase.

                    +2

            -   9

                ![image](http://1.gravatar.com/avatar/fa36904a5a0d214c60c5fa1ecc54ae9f?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

                ### Nino Miletich

                [September 7th, 2013 9:55
                pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-966369 "Commentlink #9")

                But, this is the point of the article, Dave! You said it
                yourself:

                \>\> Make less requests, use less data, compression,
                etc.

                The whole point of this (even though it might be a bit
                extreme), is to reduce the amount of data that needs to
                be transferred. The packing/unpacking performance (in
                terms of speed) is not that big of a deal (because it’s
                unlikely this will need to be called more than once per
                page load–or less), since it will \*greatly\* reduce the
                amount of data that needs to be transferred!

                [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=966369#respond)

    -   10

        ![image](http://0.gravatar.com/avatar/68bc93655d73b7081119486e1d65fd99?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

        ### Dorival

        [October 19th, 2011 1:03
        pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551324 "Commentlink #10")

        Might be good to ponderate which one is more valuable on each
        case: CPU or Bandwidth.

        I believe for a web experience, the CPU usage for this
        transformation is almost unnoticeable in modern browsers, rather
        then transmit chunks of Cookie data on each resource of a given
        page.

        For a game, might be good to save CPU for other experiences
        rather then play with character conversion, and store those
        values expanded anyway…

        So my conclusion to it is: It depends of your goal.

        [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551324#respond)

        +1

    -   11

        ![image](http://1.gravatar.com/avatar/1c82f629a308a471fac500e99876ff58?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

        ### hless

        [October 24th, 2011 11:22
        pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-552130 "Commentlink #11")

        Premature optimization is exactly that i thought reading this
        article (which is well written indeed)

        [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=552130#respond)

4.  12

    ![image](http://0.gravatar.com/avatar/68bc93655d73b7081119486e1d65fd99?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Dorival

    [October 19th, 2011 1:09
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551326 "Commentlink #12")

    Good article Lea,

    Not mentioning extreme situations like store preferences in a small
    firmware memory, like a microwave or a TV. Probably they use this
    approach too. Just guessing, not an expert on this field anyway :)

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551326#respond)

    -   13

        ![image](http://1.gravatar.com/avatar/7d8ffc1f0786ee745fac7bf9f3086260?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

        ### Lea Verou

        [October 19th, 2011 1:20
        pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551328 "Commentlink #13")

        Haha, I think they do too, yeah, but they don’t use JavaScript
        of course :P

        [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551328#respond)

        +3

5.  14

    ![image](http://0.gravatar.com/avatar/4d7c48a7fec482c3409663f43daa9fe9?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### joe

    [October 19th, 2011 1:13
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551327 "Commentlink #14")

    Another approach. Onclick pass the checkbox id var to a jquery
    function. This function determines if it’s checked or not, then
    passes the value via ajax post, and saves the visability state in
    mysql. example:

    $(document).ready(function() {\
     $(“.galleryDisplay”).click(function(event){\
     var gid = $(this).attr(‘rel’);\
     if($(this).is(‘:checked’))\
     $.post(‘galleryStatus.php’,{‘gid’:gid, ‘visability’:'y’});\
     else\
     $.post(‘galleryStatus.php’,{‘gid’:gid, ‘visability’:'n’});\
     });\
     });

    // loop all gallery images and assign ids to rel checkboxes\
     <input type="checkbox" name="galleryDisplay" class="galleryDisplay"
    value="y" rel='’ /\>

    there are a few bits of php code here that comment system filters
    out – but you get the general idea

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551327#respond)

    -51

    -   15

        ![image](http://0.gravatar.com/avatar/4035eac212ec4bc96dd6b8efa35a90d3?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

        ### Aamir Afridi

        [October 19th, 2011 1:23
        pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551330 "Commentlink #15")

        what are you talking about? :P

        [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551330#respond)

        +9

6.  16

    ![image](http://1.gravatar.com/avatar/1a101cb270d186fd5eca97d01c4f1248?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### ard

    [October 19th, 2011 1:56
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551336 "Commentlink #16")

    if the answer isn’t “yes”, then it must be “no”, right? why store
    answers if you can store indexes of “yes” answers only?

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551336#respond)

    +6

    -   17

        ![image](http://1.gravatar.com/avatar/7d8ffc1f0786ee745fac7bf9f3086260?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

        ### Lea Verou

        [October 19th, 2011 4:09
        pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551353 "Commentlink #17")

        Indexes take up space too, so in most cases, that would take up
        more space. But it always depends on the use case: If you have
        way more trues than falses, then your solution would be better.

        [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551353#respond)

        +1

7.  18

    ![image](http://1.gravatar.com/avatar/3478efd1de1ba3c35784d870b77fae89?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### ciembor

    [October 19th, 2011 2:09
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551338 "Commentlink #18")

    Have you got some benchmarks of these solutions? I’m curious… why
    did you say that we have to convert boolean array to string? Can’t
    we use it without any conversion?

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551338#respond)

    +1

    -   19

        ![image](http://1.gravatar.com/avatar/3478efd1de1ba3c35784d870b77fae89?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

        ### ciembor

        [October 19th, 2011 3:38
        pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551346 "Commentlink #19")

        Oh God, I’ve read it one more time, this time with
        introduction;D.

        [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551346#respond)

        +1

8.  20

    ![image](http://0.gravatar.com/avatar/42bd0c43547890c80908d8e9f2155b66?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Will

    [October 19th, 2011 2:18
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551340 "Commentlink #20")

    Wow, I just wrote \*exactly\* the same thing a couple of weeks ago.
    Thanks for the well written article.

    One thing I might contribute to this approach is that if the
    selection that you are encoding is heavily weighted towards one
    value, (eg lots of “yes” or lots of “no”), you might want to
    consider compressing it by assigning bytes to sequences of “0″ or
    “1″. For example, make a sequence of 15 zeros “00″, 5 zeros “01″, 1
    zero “10″ and a one “11″ and a message such as
    “1000000000000000100000″ will be compressed to “11001101″.

    As you say, none of this is really new, but it’s good to see these
    things applied in web development. My use case wasn’t too obscure: I
    wanted to pack a sparse selection of 1000s of possible items into a
    short URL, without communicating with a server beforehand.

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551340#respond)

    +5

    -   21

        ![image](http://0.gravatar.com/avatar/6285ff8f79ce11a5c9161011137258bc?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

        ### Scott

        [October 19th, 2011 4:56
        pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551357 "Commentlink #21")

        With that solution however, you are doing gzip’s job for it. May
        be useful if space in local storage is super-limited, but for
        over-the-wire transfers you’re not really saving anything.

        [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551357#respond)

        +2

        -   22

            ![image](http://0.gravatar.com/avatar/42bd0c43547890c80908d8e9f2155b66?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

            ### Will

            [October 20th, 2011 8:16
            am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551458 "Commentlink #22")

            The goal isn’t always to reduce transfer, as I said, in my
            case it was to pack the information into a URL.

            In such a case it would be absurd to use gzip. Apart from
            needing to write, test and deploy a gzip javascript library,
            the overhead of the format would increase the size of the
            message instead of decreasing it.

            [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551458#respond)

            +1

    -   23

        ![image](http://0.gravatar.com/avatar/cea9ba716e4d15792cac754381d5cd91?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

        ### Puneet Goyal

        [November 14th, 2011 8:38
        am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-554741 "Commentlink #23")

        As far as the algo is concerned with space complexity, I guess
        this can be used too.\
         As Lea said “The whole point of this packing/unpacking is space
        efficiency, not time efficiency”, I guess this would even help
        in saving more space.

        [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=554741#respond)

9.  24

    ![image](http://1.gravatar.com/avatar/d5c8e61f63aeced42a39e1444c4894d0?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Popsicle

    [October 19th, 2011 4:24
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551355 "Commentlink #24")

    What the fuck man. Bit shifting to maximize space? Stop reinventing
    the wheel and use gzip

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551355#respond)

    -13

    -   25

        ![image](http://1.gravatar.com/avatar/7d8ffc1f0786ee745fac7bf9f3086260?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

        ### Lea Verou

        [October 19th, 2011 6:51
        pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551367 "Commentlink #25")

        There is no JS native function to gzip, and implementing it with
        JS can be quite lengthy, which kinda defies the benefit. What
        I’m suggesting packs the values quite effectively, with minimal
        JS code.

        [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551367#respond)

        +8

        -   26

            ![image](http://0.gravatar.com/avatar/2d412159600388d6d66c7d500c0e3a96?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

            ### Dieter

            [October 20th, 2011 12:07
            am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551401 "Commentlink #26")

            I think Popsicle mean use server gzip compression.\
             Then the developer of the script has nothing else todo.

            [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551401#respond)

            -1

            -   27

                ![image](http://1.gravatar.com/avatar/7d8ffc1f0786ee745fac7bf9f3086260?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

                ### Lea Verou

                [October 20th, 2011 12:34
                am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551408 "Commentlink #27")

                If you can, sure, do that!\
                 But when the data is generated client-side, that’s not
                really an option.

                [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551408#respond)

                +1

10. 28

    ![image](http://0.gravatar.com/avatar/6285ff8f79ce11a5c9161011137258bc?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Scott

    [October 19th, 2011 5:03
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551359 "Commentlink #28")

    Loving the technical aspect of this article, even if the example
    doesn’t have many real-world applications (in my experience at
    least; I’ve never once needed to store more than a couple of
    booleans). It’s always good to keep optimisation at the back of your
    mind though.

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551359#respond)

11. 29

    ![image](http://1.gravatar.com/avatar/3de01a0c1a9c0e55efc6ecfa72b4eab3?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Philip Tellis

    [October 19th, 2011 7:33
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551373 "Commentlink #29")

    One thing to note though, ASCII is only 7 bits and not really 8
    bits. This is historic dating back to the days when 8 bits included
    a parity bit. Once the parity bit was moved out of the byte,
    implementations decided to extend the character set. Anything over
    0x7F (ie, 0×10-0xFF) is implementation specific when dealing with
    single byte characters.

    For JavaScript though, all characters are unicode, and the most
    common encoding used for those unicode characters is utf8. The first
    128 characters (0-127) are exactly the same as ASCII, however any
    byte with the MSB set to 1 indicates a multi-byte character, so
    needs to have a corresponding second, third or fourth byte.

    Byte codes 128-191 are continuation bytes, so should not appear on
    their own, 192, 193 & 245-255 are invalid and should never show up
    in a valid utf8 character string. 194-244 are valid utf8 characters,
    however 0xEF, 0xBB and 0xBF are used as byte order marks.

    In general, fromCharCode(x) with x \> 128 is probably not a good
    idea, since behaviour is unpredictable.

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551373#respond)

    -   30

        ![image](http://1.gravatar.com/avatar/7ca81e31b0f3122eb71b1ef9fbaaa9cc?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

        ### Yaffle

        [October 19th, 2011 8:09
        pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551378 "Commentlink #30")

        @Philip Tellis\
         for javascript, as far as i know, utf-16 without surrogate
        pairs is used

        [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551378#respond)

    -   31

        ![image](http://1.gravatar.com/avatar/f80747be9473fa6e1db8db08d34e7a15?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

        ### Nelson Menezes

        [November 2nd, 2011 6:37
        am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-553311 "Commentlink #31")

        Strings in JavaScript are sequences of 16-bit values, which can
        be (and usually are) interpreted as UTF-16. But there’s no
        actual restriction on the use of those 16 bits. See ECMAScript
        standard at
        [http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf](http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf)

        “The String type is the set of all finite ordered sequences of
        zero or more 16-bit unsigned integer values [...]. The String
        type is generally used to represent textual data [...], in which
        case each element in the String is treated as a code unit value
        [...]. When a String contains actual textual data, each element
        is considered to be a single UTF-16 code unit. [...] All
        operations on Strings (except as otherwise stated) treat them as
        sequences of undifferentiated 16-bit unsigned integers; they do
        not ensure the resulting String is in normalised form, nor do
        they ensure language-sensitive results.”

        [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=553311#respond)

12. 32

    ![image](http://0.gravatar.com/avatar/a83af6b9a6574e59dd2ac9d7460f7213?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### keshav

    [October 19th, 2011 9:04
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551381 "Commentlink #32")

    Hello Sir,

    the example you have given is not working as expected

    var atob\_change = atob(parseInt(’100001′,2));\
     document.write(atob\_change);\
     var orig = parseInt(btoa(atob\_change)).toString(2);\
     document.write(‘,Original:’+orig); // returns 11

    Here is fiddle:

    [http://jsfiddle.net/xkeshav/rXpEk/5/](http://jsfiddle.net/xkeshav/rXpEk/5/)

    please describe me why??

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551381#respond)

    -3

13. 33

    ![image](http://1.gravatar.com/avatar/13669032a06121e14097a69602048eee?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Brian

    [October 19th, 2011 9:16
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551384 "Commentlink #33")

    Great article Lea, I see where this can come in handy. It just
    worries me that JS is starting to do things that more lower level
    languages do. It just doesn’t feel DRY.

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551384#respond)

    -2

14. 34

    ![image](http://1.gravatar.com/avatar/328c4d1540fd2346475d588743668f8c?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Matt

    [October 19th, 2011 11:01
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551392 "Commentlink #34")

    Internally, Javascript treats Strings as UTF-16, that means two
    bytes for every character, no matter what code point it is (contrary
    to the variable length in UTF-8). The question now is, how do
    browsers store the data of localStorage? If (which I doubt) browsers
    store it in UTF-16, we have two bytes for 256 values, thus wasting
    valuable space.

    So what happens if we use all 65536 possible character values? If
    the browser stores it in UTF-16, we have two bytes. If the browser
    stores it in UTF-8 we have one, two or three bytes, with an
    expectation of \~2.967.

    When using only 256 values (and therefore two characters), we have 4
    bytes in UTF-16 and 2-4 bytes in UTF-8, with an expectation of 3.

    In conclusion, if we have more than 128 values, and don’t know about
    the internals of the browser, we should… well still look at how many
    values we have… Sigh. Or stop these micro-optimizations.

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551392#respond)

    -   35

        ![image](http://1.gravatar.com/avatar/7d8ffc1f0786ee745fac7bf9f3086260?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

        ### Lea Verou

        [October 20th, 2011 12:37
        am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551409 "Commentlink #35")

        I updated the article a while ago to reflect UTF-16 values,
        since that’s what the spec commands and what browsers use. I
        guess you had it open in the browser for a few hours before
        commenting?

        [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551409#respond)

        -   36

            ![image](http://1.gravatar.com/avatar/328c4d1540fd2346475d588743668f8c?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

            ### Matt

            [October 20th, 2011 12:55
            am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551413 "Commentlink #36")

            Read it in my feed-reader…

            Yet my point was meant to be: Does using UTF-16 internally
            mean, browsers actually store the localStorage data in
            UTF-16 or maybe in UTF-8 (or more likely in some binary
            database), and how that might affect the selection of a
            proper base. I know, it’s completely academical speculation.
            I like academical speculation :-)

            [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551413#respond)

        -   37

            ![image](http://1.gravatar.com/avatar/5cd0e225fbc287bf863a31a79f56a77d?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

            ### simonleung

            [November 6th, 2011 9:01
            am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-553634 "Commentlink #37")

            try to change the View\>Character Encoding, the data may
            change.

            [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=553634#respond)

    -   38

        ![image](http://0.gravatar.com/avatar/8a0785b0f66526b170e1981cb731f606?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

        ### check\_ca

        [October 20th, 2011 12:58
        pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551485 "Commentlink #38")

        For localStorage on Chromium/Chrome, strings seems to be encoded
        in UTF16.

        With a hex editor, open one the files stored into :\
         AppData\\Local\\Chromium\\User Data\\Default\\Local Storage\\

        You should see some strings encoded in UTF-16.

        [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551485#respond)

        +1

    -   39

        ![image](http://0.gravatar.com/avatar/6db8e6e1cf36dfcc4c4d59e4b5827344?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

        ### Jakob Jarmar

        [August 4th, 2012 1:16
        pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-593498 "Commentlink #39")

        Since the data in localStorage likely never is read by anything
        else than Javascript, it would seem a bit silly to convert it to
        another encoding.

        [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=593498#respond)

15. 40

    ![image](http://0.gravatar.com/avatar/c5999fa4f969c0959d057ca469ab9824?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Dushes

    [October 19th, 2011 11:13
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551394 "Commentlink #40")

    Great article, thxs a lot

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551394#respond)

16. 41

    ![image](http://1.gravatar.com/avatar/5c4a839c1766f8160f9b3792eac22e53?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Thomas Strobl

    [October 19th, 2011 11:23
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551396 "Commentlink #41")

    Even from a Designer’s view I really enjoyed the thinking behind
    this Article. Thanks!

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551396#respond)

    +1

17. 42

    ![image](http://0.gravatar.com/avatar/2d412159600388d6d66c7d500c0e3a96?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Dieter

    [October 20th, 2011 12:06
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551400 "Commentlink #42")

    Pro:\
     Good for transfer many Data, but in that case server compression
    like gzip is used.

    Contra:\
     Unreadably. The Code is hard to read and take longer then watch a
    simple array.

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551400#respond)

18. 43

    ![image](http://1.gravatar.com/avatar/d94b7fa24e7d79a5900c7c4eff246c6a?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Andreas

    [October 20th, 2011 12:16
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551403 "Commentlink #43")

    Not every character in an UTF-16 string is 2 bytes (16 bits).\
     UTF-16 has the same “variable length” principle as UTF-8. The only
    difference between UTF-8 und UTF-16 is , that in the (minimum) 16
    bits of UTF-16 more characters fit without using the
    UTF-extension-mechanism, than in the 8 bits of UTF-8.

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551403#respond)

    -   44

        ![image](http://1.gravatar.com/avatar/7d8ffc1f0786ee745fac7bf9f3086260?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

        ### Lea Verou

        [October 20th, 2011 12:39
        am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551410 "Commentlink #44")

        Nope, that’s false. From
        [http://en.wikipedia.org/wiki/UTF-16](http://en.wikipedia.org/wiki/UTF-16)
        :\
         “UTF-16 and UCS-2 produce a sequence of 16-bit code units. Each
        unit thus takes two 8-bit bytes”

        [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551410#respond)

        +1

        -   45

            ![image](http://0.gravatar.com/avatar/6db8e6e1cf36dfcc4c4d59e4b5827344?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

            ### Jakob Jarmar

            [August 4th, 2012 1:09
            pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-593497 "Commentlink #45")

            No, each \*unit\* takes two bytes. Characters can take one
            or two units.

            Strings are still defined as sequences of 16-bit numbers and
            the charCode methods treat them as such so it doesn’t really
            matter in this context, but Strings can definitely contain
            characters that take up more than two bytes:
            [http://jsfiddle.net/hD4Pc/](http://jsfiddle.net/hD4Pc/)

            [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=593497#respond)

19. 46

    ![image](http://0.gravatar.com/avatar/6fe43e0038cf0e5579b549d417d4f3ec?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### wheresrhys

    [October 20th, 2011 12:50
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551412 "Commentlink #46")

    One thing you didn’t cover is that parseInt on a string of 1′s and
    0′s is equivalent to iterating through the array and adding powers
    of 2. So I was going to leave a comment to say the other way’s
    probably better, but did a quick test first. Anyway, it turns out
    (surprisingly to me) that creating then parsing the string is
    significantly faster than the arithmetical way:
    [http://jsfiddle.net/wheresrhys/zHB8N/](http://jsfiddle.net/wheresrhys/zHB8N/).
    I wonder if this would still hold when you get into the higher bases
    of your later examples?

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551412#respond)

    -   47

        ![image](http://0.gravatar.com/avatar/888311ef832b4454f7c354700327b2b3?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

        ### Barmiska

        [October 20th, 2011 8:40
        am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551465 "Commentlink #47")

        @wheresrhys:\
         I checked yours fiddle in Iceweasel (kind of a Firefox) and
        Chrome, and those two browsers had different results.\
         In Chrome viaLoop is faster, in Iceweasel – viaString.\
         [I've got 4x bigger array for this test.]

        Lea:\
         Article is nice, but… If my browser will be able to display 10
        000 checkboxes, storing their values shouldn’t be a problem.

        [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551465#respond)

    -   48

        ![image](http://1.gravatar.com/avatar/7d8ffc1f0786ee745fac7bf9f3086260?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

        ### Lea Verou

        [October 20th, 2011 10:20
        am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551474 "Commentlink #48")

        For performance tests, better use jsperf.com. Then you get
        BrowserScope results from multiple browsers after a while.

        [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551474#respond)

        +1

20. 49

    ![image](http://0.gravatar.com/avatar/c2a54e5f74b9b98658229d4305179727?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Daniel Pataki

    [October 20th, 2011 7:16
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551454 "Commentlink #49")

    Hi Lea,

    That’s one of the best articles I’ve read about JS in a while. I
    think that after you learn a lot about any programming language
    these nuances start bugging you. Which is quicker array\_shift() or
    array\_slice() in PHP and so on.

    Thanks for the article!

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551454#respond)

    +1

21. 50

    ![image](http://1.gravatar.com/avatar/d2699bf15f820608493951e7aec65d80?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Jannik

    [October 20th, 2011 7:24
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551455 "Commentlink #50")

    Hello,

    while this may seem like a nice idea, you have to look out for too
    long strings.\
     Because JavaScript does not have Integers, the Number type is
    actually the IEEE754 implementation of double precision floating
    point numbers.

    So you might encounter rounding issues:

    var number1 = 1111111111111111111100000;\
     var number2 = 1111111111111111111199999;\
     console.log(number1 == number2)

    =\> reports “true”

    So watch out for such bugs, which are very hard to detect.

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551455#respond)

    +7

    -   51

        ![image](http://1.gravatar.com/avatar/7d8ffc1f0786ee745fac7bf9f3086260?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

        ### Lea Verou

        [October 20th, 2011 10:17
        am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551472 "Commentlink #51")

        Very good point, upvoted. Although it doesn’t apply to the last
        method, only to the ones that involve such a big number as an
        intermediate step.

        [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551472#respond)

    -   52

        ![image](http://1.gravatar.com/avatar/3de01a0c1a9c0e55efc6ecfa72b4eab3?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

        ### Philip Tellis

        [October 20th, 2011 12:00
        pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551482 "Commentlink #52")

        this is true only for numbers not represented in base 2. As long
        as you do base2-\>string-\>base2 conversions, it’s lossless
        (provided you don’t overflow)

        [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551482#respond)

        -   53

            ![image](http://1.gravatar.com/avatar/d2699bf15f820608493951e7aec65d80?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

            ### Jannik

            [October 24th, 2011 8:12
            am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-552025 "Commentlink #53")

            All numbers are represented in base 2 internally (the actual
            output is a string representation of the number, but you
            won’t change the internal number structure).

            Rounding issues will occur, regardless of the actual number
            base. Overflow is one issue, but also the various accuracy
            issues with floating point numbers.

            The mantissa of a floating point number has a fixed length,
            Wikipedia says, that with a 64bit floating point number, the
            mantissa has a length of 52 bits.

            So if you have a binary number in the format 1…1 with more
            than 52 “1″s the tailing “1″s are rounded.\
             Note, that (2\^53)-1 \~= 9e15 is much smaller than the
            actual largest floating point number \~ 1,789e308.

            The actual problem is not the overflow but the small
            precision, due to the “small” mantissa (so yes, it is an
            overflow of the mantissa actually).

            [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=552025#respond)

            +1

22. 54

    ![image](http://0.gravatar.com/avatar/8af961c5208cb8fca22f3a099e6426c0?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Taai

    [October 20th, 2011 8:29
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551461 "Commentlink #54")

    There is a one important thing here!\
     If your bit-string starts with “0″, then when packing and
    unpacking, the string will be not the same and it will have no
    leading zeros. So, you must always start the bit-string with extra
    “1″ and when unpacking, chop the extra “1″ off.\
     I’ve used this method earlyer and the performance is very good. :)

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551461#respond)

    +7

    -   55

        ![image](http://1.gravatar.com/avatar/7d8ffc1f0786ee745fac7bf9f3086260?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

        ### Lea Verou

        [October 20th, 2011 10:18
        am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551473 "Commentlink #55")

        Very good point.

        [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551473#respond)

        -   56

            ![image](http://1.gravatar.com/avatar/f4768a0e2cb256c7fa968ef226f4d845?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

            ### myf

            [October 24th, 2011 3:29
            am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551996 "Commentlink #56")

            Exactly; I think Taai’s remark should definitely be
            mentioned in article – Without this knowledge one would be
            quite surprised getting false for ’01′==unpack(pack(’01′))

            [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551996#respond)

            +2

23. 57

    ![image](http://0.gravatar.com/avatar/cc746f9c9beb7ffc1790987832824e8b?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### martin

    [October 20th, 2011 10:30
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551477 "Commentlink #57")

    This article is really great. I didn’t know these tricks with
    parseInt and toString.\
     Thanks a lot!

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551477#respond)

    +1

24. 58

    ![image](http://1.gravatar.com/avatar/f44b10303942f7cf9176b3e0ccc9d245?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Peter Galiba

    [October 21st, 2011 4:17
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551572 "Commentlink #58")

    A maybe better splitting the text into chunks would be:

    var l = values.length, lc = 0, out = [], c = 0;\
     for (; lc < l; c++) {\
     out[c] = values.slice(lc, lc +=2);\
     }

    Although it performs slower in IE8 and earlier, it flies in current
    browsers.

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551572#respond)

25. 59

    ![image](http://0.gravatar.com/avatar/8cc280201d90b080b6eaedaefb6456e5?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Jak Wilkins

    [October 22nd, 2011 1:56
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551770 "Commentlink #59")

    I agree with Jeff Dickey.

    This article covers some good concepts, most of which are outdated.
    We worry less about storage as it gets cheaper and cheaper, and more
    about power consumption/processing power.

    Store the data as it is meant to be stored, and let the javascript
    engine deal with it, you will run into less problems, and find it
    way easier to deal with.

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=551770#respond)

    +1

26. 60

    ![image](http://1.gravatar.com/avatar/beffd0d993c846b3b98718e284b0d0a7?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Spyros Rallis

    [October 25th, 2011 1:51
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-552235 "Commentlink #60")

    Converting the string to a hex or a base-32 number would be enough—
    after all, it makes no sense to save some bytes on the values only
    to waste them on the code required to accomplish that. ;)

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=552235#respond)

    +2

27. 61

    ![image](http://0.gravatar.com/avatar/c6777af9a748fc720b913b6979d0f94d?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Peter Hentges

    [November 1st, 2011 8:28
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-553217 "Commentlink #61")

    Excellent article and something I will be able to put into use in my
    work immediately. Need to do some thinking on my own about how this
    technique might be used if the values being stored aren’t binary,
    but range for example from 0-4.

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=553217#respond)

28. 62

    ![image](http://1.gravatar.com/avatar/d061c18a1fe10dda5903f964d380e631?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Ashutosh Nigam

    [November 4th, 2011 4:39
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-553453 "Commentlink #62")

    this is really an awesome post ……thanks for sharing

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=553453#respond)

29. 63

    ![image](http://1.gravatar.com/avatar/5922f5255e7662a266d5d457e3898de2?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### pomeh

    [December 26th, 2011 9:12
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-563172 "Commentlink #63")

    Great post Lea, as usual ! Thanks a lot :)

    I have a question, I didn’t read all the comments so sorry if you’ve
    already addressed that point: what happens with the Bitfields
    technique when the value begins with a zero ? Look at this example:

    var value = ’01′;\
     // pack the value\
     var a = parseInt( value, 2 ).toString( 36 ); // a=”1″

    // unpack it\
     var b = parseInt( a, 36 ).toString( 2 ); // b=”1″

    // original value and unpacked one are not the same :(\
     console.log( b === value ); // returns false

    How one could address that problem with the Bitfields technique ?

    Cheers,

    Pomeh

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=563172#respond)

30. 64

    ![image](http://0.gravatar.com/avatar/0c97c8bbc2adc573b9913d29403098db?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### jsc42

    [April 19th, 2013 1:26
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-667579 "Commentlink #64")

    Beware of zero chars in strings. Some browsers treat them as
    end-of-string markers (I fell foul of this some years ago when
    passing GIFs as literals). Most recent browsers correctly get string
    lengths, but it is an issue if you want cross-browser compatibility.
    Rather than doing String.fromCharCode(n), you can do
    ‘abc…xyzABC…XYZ0..9(etc)’.charAt(n) to get a target string that only
    has ‘safe’ characters in it.

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=667579#respond)

31. 65

    ![image](http://0.gravatar.com/avatar/82f42fdaa95c11db786eda040d7d6643?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### hannenz

    [May 6th, 2013 11:27
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-852221 "Commentlink #65")

    reminds me of the days hacking 6502 assembly Code Info my commodore
    64, optimizing to the Last Bit (and CPU cycle). i wish we would
    Start caring more about These things nowadays, especially when it
    comes to data transfer. this article points us in the right
    direction and is a nice read while the actual use case might be a
    Bit awkward….

    [Reply](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/?replytocom=852221#respond)

1.  1

    ![image](http://1.gravatar.com/avatar/3287d5bb845ffffe9a08b5f26c2fac71?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### catbert

    [October 19th, 2011 12:29
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551316 "Commentlink #1")

    Oh well, Javascript developers, now we came full circle.\
     Need to learn bitwise operators again, huh? :-)

    +24

2.  2

    ![image](http://0.gravatar.com/avatar/4035eac212ec4bc96dd6b8efa35a90d3?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Aamir Afridi

    [October 19th, 2011 1:23
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551330 "Commentlink #2")

    what are you talking about? :P

    +9

3.  3

    ![image](http://1.gravatar.com/avatar/96b0d87588dd8ee1855781a616c05926?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Michael

    [October 20th, 2011 6:59
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551450 "Commentlink #3")

    I think what Dave is trying to say is that if we send a value and
    that value because of size takes 250ms to transport, and 250ms to
    parse we have 500ms impact to the user. However if we send a value
    and that value because of size takes 50ms to transport, and 450ms to
    parse we still have 500ms impact to the user. What we would want to
    show from a performance perspective is that there’s some net
    benefit. Example: we reduce transport time to 50ms and parsing time
    only rises 100ms, we have a net gain of 100ms each use.

    +8

4.  4

    ![image](http://1.gravatar.com/avatar/7d8ffc1f0786ee745fac7bf9f3086260?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Lea Verou

    [October 19th, 2011 6:51
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551367 "Commentlink #4")

    There is no JS native function to gzip, and implementing it with JS
    can be quite lengthy, which kinda defies the benefit. What I’m
    suggesting packs the values quite effectively, with minimal JS code.

    +8

5.  5

    ![image](http://0.gravatar.com/avatar/8af961c5208cb8fca22f3a099e6426c0?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Taai

    [October 20th, 2011 8:29
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551461 "Commentlink #5")

    There is a one important thing here!\
     If your bit-string starts with “0″, then when packing and
    unpacking, the string will be not the same and it will have no
    leading zeros. So, you must always start the bit-string with extra
    “1″ and when unpacking, chop the extra “1″ off.\
     I’ve used this method earlyer and the performance is very good. :)

    +7

6.  6

    ![image](http://1.gravatar.com/avatar/d2699bf15f820608493951e7aec65d80?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Jannik

    [October 20th, 2011 7:24
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551455 "Commentlink #6")

    Hello,

    while this may seem like a nice idea, you have to look out for too
    long strings.\
     Because JavaScript does not have Integers, the Number type is
    actually the IEEE754 implementation of double precision floating
    point numbers.

    So you might encounter rounding issues:

    var number1 = 1111111111111111111100000;\
     var number2 = 1111111111111111111199999;\
     console.log(number1 == number2)

    =\> reports “true”

    So watch out for such bugs, which are very hard to detect.

    +7

7.  7

    ![image](http://1.gravatar.com/avatar/1a101cb270d186fd5eca97d01c4f1248?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### ard

    [October 19th, 2011 1:56
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551336 "Commentlink #7")

    if the answer isn’t “yes”, then it must be “no”, right? why store
    answers if you can store indexes of “yes” answers only?

    +6

8.  8

    ![image](http://1.gravatar.com/avatar/99f531ec83a4be7bd4f3337fcdceb5bf?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Dave

    [October 19th, 2011 1:08
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551325 "Commentlink #8")

    Usually if you use the word “optimizing” in terms of web
    development, and especially on the front-end with Javascript, it has
    to do with speed. At least that’s how I see it. Make less requests,
    use less data, compression, etc.

    If you’re just talking packing/unpacking of data in a more efficient
    way, you’re just refactoring your code in my mind.

    +5

9.  9

    ![image](http://0.gravatar.com/avatar/42bd0c43547890c80908d8e9f2155b66?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Will

    [October 19th, 2011 2:18
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551340 "Commentlink #9")

    Wow, I just wrote \*exactly\* the same thing a couple of weeks ago.
    Thanks for the well written article.

    One thing I might contribute to this approach is that if the
    selection that you are encoding is heavily weighted towards one
    value, (eg lots of “yes” or lots of “no”), you might want to
    consider compressing it by assigning bytes to sequences of “0″ or
    “1″. For example, make a sequence of 15 zeros “00″, 5 zeros “01″, 1
    zero “10″ and a one “11″ and a message such as
    “1000000000000000100000″ will be compressed to “11001101″.

    As you say, none of this is really new, but it’s good to see these
    things applied in web development. My use case wasn’t too obscure: I
    wanted to pack a sparse selection of 1000s of possible items into a
    short URL, without communicating with a server beforehand.

    +5

10. 10

    ![image](http://1.gravatar.com/avatar/b32ce49142600b8f6dbcbfc42d3a01af?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Jeff Dickey

    [October 19th, 2011 12:49
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551320 "Commentlink #10")

    This article is very well written, and I really enjoyed it but is
    there a better example of how to use this? Using this on the slide
    example provides very little utility. In fact, I would not be
    surprised if all of this packing/unpacking actually reduces the
    performance.

    Sorry for being a downer, but I feel like this is a perfect example
    of premature optimization.

    +4

11. 11

    ![image](http://1.gravatar.com/avatar/7d8ffc1f0786ee745fac7bf9f3086260?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Lea Verou

    [October 19th, 2011 1:20
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551328 "Commentlink #11")

    Haha, I think they do too, yeah, but they don’t use JavaScript of
    course :P

    +3

12. 12

    ![image](http://1.gravatar.com/avatar/b97ad734d62ad7c00cdd501cb5e15321?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Adam Fraser

    [November 5th, 2011 9:13
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-553564 "Commentlink #12")

    In response to Michael above. Your point is well taken, this isn’t
    worth the trouble for small lists of booleans and for high
    bandwidths. But in reality transport is more often than not the
    bottleneck. I would hardly expect unpacking to take the majority of
    the time.

    In any case, the question remains as to what array size (for a given
    bandwidth) would result in a net performance increase.

    +2

13. 13

    ![image](http://1.gravatar.com/avatar/beffd0d993c846b3b98718e284b0d0a7?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Spyros Rallis

    [October 25th, 2011 1:51
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-552235 "Commentlink #13")

    Converting the string to a hex or a base-32 number would be enough—
    after all, it makes no sense to save some bytes on the values only
    to waste them on the code required to accomplish that. ;)

    +2

14. 14

    ![image](http://1.gravatar.com/avatar/7d8ffc1f0786ee745fac7bf9f3086260?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Lea Verou

    [October 19th, 2011 12:55
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551322 "Commentlink #14")

    The whole point of this packing/unpacking is space efficiency, not
    time efficiency. In Computer Science there’s frequently a tradeoff
    between the two.

    I mentioned some examples in the last paragraph. Are you asking for
    something more specific or you didn’t notice them? :)

    +2

15. 15

    ![image](http://1.gravatar.com/avatar/f4768a0e2cb256c7fa968ef226f4d845?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### myf

    [October 24th, 2011 3:29
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551996 "Commentlink #15")

    Exactly; I think Taai’s remark should definitely be mentioned in
    article – Without this knowledge one would be quite surprised
    getting false for ’01′==unpack(pack(’01′))

    +2

16. 16

    ![image](http://0.gravatar.com/avatar/48563a0a01ce9349f251b07a3c563ed4?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Victor

    [October 19th, 2011 2:32
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551341 "Commentlink #16")

    Well, if we pack some data and send it, it will reach destination
    faster :) so we are optimizing thru compression on client side !!!

    GREAT JOB LEA !

    Dave your attituide is being very jelly :) I think.

    +2

17. 17

    ![image](http://0.gravatar.com/avatar/6285ff8f79ce11a5c9161011137258bc?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Scott

    [October 19th, 2011 4:56
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551357 "Commentlink #17")

    With that solution however, you are doing gzip’s job for it. May be
    useful if space in local storage is super-limited, but for
    over-the-wire transfers you’re not really saving anything.

    +2

18. 18

    ![image](http://0.gravatar.com/avatar/8a0785b0f66526b170e1981cb731f606?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### check\_ca

    [October 20th, 2011 12:58
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551485 "Commentlink #18")

    For localStorage on Chromium/Chrome, strings seems to be encoded in
    UTF16.

    With a hex editor, open one the files stored into :\
     AppData\\Local\\Chromium\\User Data\\Default\\Local Storage\\

    You should see some strings encoded in UTF-16.

    +1

19. 19

    ![image](http://1.gravatar.com/avatar/5c4a839c1766f8160f9b3792eac22e53?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Thomas Strobl

    [October 19th, 2011 11:23
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551396 "Commentlink #19")

    Even from a Designer’s view I really enjoyed the thinking behind
    this Article. Thanks!

    +1

20. 20

    ![image](http://1.gravatar.com/avatar/7d8ffc1f0786ee745fac7bf9f3086260?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Lea Verou

    [October 20th, 2011 12:34
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551408 "Commentlink #20")

    If you can, sure, do that!\
     But when the data is generated client-side, that’s not really an
    option.

    +1

21. 21

    ![image](http://1.gravatar.com/avatar/7d8ffc1f0786ee745fac7bf9f3086260?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Lea Verou

    [October 20th, 2011 12:39
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551410 "Commentlink #21")

    Nope, that’s false. From
    [http://en.wikipedia.org/wiki/UTF-16](http://en.wikipedia.org/wiki/UTF-16)
    :\
     “UTF-16 and UCS-2 produce a sequence of 16-bit code units. Each
    unit thus takes two 8-bit bytes”

    +1

22. 22

    ![image](http://0.gravatar.com/avatar/cc746f9c9beb7ffc1790987832824e8b?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### martin

    [October 20th, 2011 10:30
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551477 "Commentlink #22")

    This article is really great. I didn’t know these tricks with
    parseInt and toString.\
     Thanks a lot!

    +1

23. 23

    ![image](http://1.gravatar.com/avatar/d2699bf15f820608493951e7aec65d80?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Jannik

    [October 24th, 2011 8:12
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-552025 "Commentlink #23")

    All numbers are represented in base 2 internally (the actual output
    is a string representation of the number, but you won’t change the
    internal number structure).

    Rounding issues will occur, regardless of the actual number base.
    Overflow is one issue, but also the various accuracy issues with
    floating point numbers.

    The mantissa of a floating point number has a fixed length,
    Wikipedia says, that with a 64bit floating point number, the
    mantissa has a length of 52 bits.

    So if you have a binary number in the format 1…1 with more than 52
    “1″s the tailing “1″s are rounded.\
     Note, that (2\^53)-1 \~= 9e15 is much smaller than the actual
    largest floating point number \~ 1,789e308.

    The actual problem is not the overflow but the small precision, due
    to the “small” mantissa (so yes, it is an overflow of the mantissa
    actually).

    +1

24. 24

    ![image](http://0.gravatar.com/avatar/68bc93655d73b7081119486e1d65fd99?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Dorival

    [October 19th, 2011 1:03
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551324 "Commentlink #24")

    Might be good to ponderate which one is more valuable on each case:
    CPU or Bandwidth.

    I believe for a web experience, the CPU usage for this
    transformation is almost unnoticeable in modern browsers, rather
    then transmit chunks of Cookie data on each resource of a given
    page.

    For a game, might be good to save CPU for other experiences rather
    then play with character conversion, and store those values expanded
    anyway…

    So my conclusion to it is: It depends of your goal.

    +1

25. 25

    ![image](http://0.gravatar.com/avatar/8cc280201d90b080b6eaedaefb6456e5?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Jak Wilkins

    [October 22nd, 2011 1:56
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551770 "Commentlink #25")

    I agree with Jeff Dickey.

    This article covers some good concepts, most of which are outdated.
    We worry less about storage as it gets cheaper and cheaper, and more
    about power consumption/processing power.

    Store the data as it is meant to be stored, and let the javascript
    engine deal with it, you will run into less problems, and find it
    way easier to deal with.

    +1

26. 26

    ![image](http://0.gravatar.com/avatar/c2a54e5f74b9b98658229d4305179727?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Daniel Pataki

    [October 20th, 2011 7:16
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551454 "Commentlink #26")

    Hi Lea,

    That’s one of the best articles I’ve read about JS in a while. I
    think that after you learn a lot about any programming language
    these nuances start bugging you. Which is quicker array\_shift() or
    array\_slice() in PHP and so on.

    Thanks for the article!

    +1

27. 27

    ![image](http://0.gravatar.com/avatar/42bd0c43547890c80908d8e9f2155b66?s=38&d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Will

    [October 20th, 2011 8:16
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551458 "Commentlink #27")

    The goal isn’t always to reduce transfer, as I said, in my case it
    was to pack the information into a URL.

    In such a case it would be absurd to use gzip. Apart from needing to
    write, test and deploy a gzip javascript library, the overhead of
    the format would increase the size of the message instead of
    decreasing it.

    +1

28. 28

    ![image](http://1.gravatar.com/avatar/7d8ffc1f0786ee745fac7bf9f3086260?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### Lea Verou

    [October 20th, 2011 10:20
    am](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551474 "Commentlink #28")

    For performance tests, better use jsperf.com. Then you get
    BrowserScope results from multiple browsers after a while.

    +1

29. 29

    ![image](http://1.gravatar.com/avatar/3478efd1de1ba3c35784d870b77fae89?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### ciembor

    [October 19th, 2011 2:09
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551338 "Commentlink #29")

    Have you got some benchmarks of these solutions? I’m curious… why
    did you say that we have to convert boolean array to string? Can’t
    we use it without any conversion?

    +1

30. 30

    ![image](http://1.gravatar.com/avatar/3478efd1de1ba3c35784d870b77fae89?s=38&d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D38&r=G)

    ### ciembor

    [October 19th, 2011 3:38
    pm](http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#comment-551346 "Commentlink #30")

    Oh God, I’ve read it one more time, this time with introduction;D.

    +1

### Leave a Comment

Yay! You've decided to leave a comment. That's fantastic! Please keep in
mind that comments are moderated and `rel="nofollow"` is in use. So,
please do not use a spammy keyword or a domain as your name, or else it
will be deleted. Let's have a personal and meaningful conversation
instead. Thanks for dropping by!

[Click here to cancel
reply.](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#respond)

### [Click here to cancel reply.](/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/#respond)

Your name\*

Your email\*

Your message\*

[↑ Back to top](#top "Jump to the top of the page")

[↑ Back to top](#top "Jump to the top of the page")

Search

[↑ Back to top](#top "Jump to the top of the page")

-   Categories
-   [Coding](http://coding.smashingmagazine.com)
-   [Design](http://www.smashingmagazine.com/category/design/)
-   [Mobile](http://mobile.smashingmagazine.com/)
-   [Graphics](http://www.smashingmagazine.com/category/graphics/)
-   [UX Design](http://uxdesign.smashingmagazine.com/)
-   [WordPress](http://wp.smashingmagazine.com/)

-   Pages
-   [Books](http://www.smashingmagazine.com/books/)
-   [eBook Library](http://www.smashingmagazine.com/ebooks/)
-   [Workshops](http://www.smashingmagazine.com/workshops/)
-   [Email
    Newsletter](http://www.smashingmagazine.com/the-smashing-newsletter/)
-   [Job Board](http://jobs.smashingmagazine.com/)
-   [About us](http://www.smashingmagazine.com/about/)

Search on Smashing Magazine Search

Advertisement [Advertise with
us!](mailto:advertising@smashingmagazine.com "Advertise with us!")

### [![Smashing Newsletter](http://www.smashingmagazine.com/files/smashing-widget/v006/img/smnl.png) Smashing Newsletter](http://www.smashingmagazine.com/the-smashing-newsletter/)

Subscribe to our email newsletter for useful tips and valuable
resources, sent out every second Tuesday.

Subscribe

[![Smashing Printed
Books](http://media.smashingmagazine.com/wp-content/uploads/2013/04/Smashing-Book-4-sidebar-transparent-opt.png)](http://www.smashingmagazine.com/smashing-book-4-new-perspectives/?pk_campaign=sb4-sidebar)

It's done. The [Smashing Book
\#4](http://www.smashingmagazine.com/smashing-book-4-new-perspectives/?pk_campaign=sb4-sidebar),
our brand new book with smart **front-end techniques** and design
approaches. Written by respected designers and developers, neatly packed
in a gorgeous hardcover.

[![Smashing Printed
Books](http://media.smashingmagazine.com/wp-content/uploads/2013/10/smashing-library-footer-new-opt.png)](http://www.smashingmagazine.com/ebooks/?pk_campaign=sb4-sidebar)

Hungry for more content? Over 60 **eBooks** are waiting to be discovered
in our lovely [Smashing
Library](http://www.smashingmagazine.com/ebooks/?pk_campaign=sb4-sidebar).
And guess what? You can watch Smashing Conference talks there, too.

[![Smashing
Workshops](http://media.smashingmagazine.com/wp-content/uploads/2014/02/aarron-walter-footer.jpg)](http://www.smashingmagazine.com/workshops/?pk_campaign=sb4-sidebar)

Do you feel like your **workflow** is slowing you down? We might have
just what you need: Front-End, UX and Responsive design [full-day
workshops](http://www.smashingmagazine.com/workshops/?pk_campaign=sb4-sidebar),
by well-respected experts.

### [Smashing Job Board![Smashing Jobs](http://www.smashingmagazine.com/files/smashing-widget/v006/img/sm-jobs.png)](http://jobs.smashingmagazine.com/?pk_campaign=sm&piwik_kwd=widget)

-   -   [UI Design and Development and SharePoint Development/Branding -
    infoReliance - (Fairfax, VA) -
    FullTime](http://feedproxy.google.com/~r/smjobs/~3/Irq2herQR-c/2406590)

    nfoReliance is looking for an experienced UI/UX Designer and
    Developer to work with clients and project teams to design and
    develop compelling and intuitive user…

-   [Contract Web Developer - Marcel Media - (Chicago, IL ) -
    Freelance](http://feedproxy.google.com/~r/smjobs/~3/bQ7TcuiEeaQ/2406585)

    Contract Web Developer Marcel Media is an award winning, Inc. 5000
    Chicago-based Interactive Digital Agency specializing in Search
    Engine Marketing. We are…

[View more job
openings…](http://jobs.smashingmagazine.com?pk_campaign=sm&piwik_kwd=widget)

[![Smashing Book
\#4](http://media.smashingmagazine.com/wp-content/uploads/2013/10/smashing-book-4-footer-opt.png)](http://www.smashingmagazine.com/smashing-book-4-new-perspectives/?pk_campaign=sb4-footer)

[**Smashing Book
\#4**](http://www.smashingmagazine.com/smashing-book-4-new-perspectives/?pk_campaign=sb4-footer)\
Get our brand new Smashing Book \#4, available as print and eBook.
[Learn
more...](http://www.smashingmagazine.com/smashing-book-4-new-perspectives/?pk_campaign=sb4-footer)

[![The Smashing
Library](http://media.smashingmagazine.com/wp-content/uploads/2013/10/smashing-library-footer-new-opt.png)](https://shop.smashingmagazine.com/smashing-library-complete.html?pk_campaign=smashingmagazine-footer)

[**The Smashing
Library**](https://shop.smashingmagazine.com/smashing-library-complete.html?pk_campaign=smashingmagazine-footer)\
Grab all published and upcoming Smashing eBooks, in one swoop. [Learn
more...](https://shop.smashingmagazine.com/smashing-library-complete.html?pk_campaign=smashingmagazine-footer)

[![Smashing
Workshops](http://media.smashingmagazine.com/wp-content/uploads/2014/02/aarron-walter-footer.jpg)](http://www.smashingmagazine.com/workshops/?pk_campaign=smashingmagazine-footer)

[**Smashing
Workshops**](http://www.smashingmagazine.com/workshops/?pk_campaign=smashingmagazine-footer)\
Join our hands-on full-day workshops, run by experts of the industry.
Good stuff. [Learn
more...](http://www.smashingmagazine.com/workshops/?pk_campaign=smashingmagazine-footer)

*With a commitment to quality content for the design community.*\
[A Smashing Media Company.](http://www.smashing-media.com/) Made in
Germany. 2006-2014. [Contact
Us.](http://www.smashingmagazine.com/contact/)
[Impressum.](http://www.smashingmagazine.com/about/)
http://coding.smashingmagazine.com/2011/10/19/optimizing-long-lists-of-yesno-values-with-javascript/
