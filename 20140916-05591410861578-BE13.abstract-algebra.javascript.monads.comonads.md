[Skip to content](#start-of-content)

[](https://github.com/)

[Sign up](/join) [Sign
in](/login?return_to=%2Ffantasyland%2Ffantasy-land)

This repository

-   [Explore](/explore)
-   [Features](/features)
-   [Enterprise](https://enterprise.github.com/)
-   [Blog](/blog)

-   [Star](/login?return_to=%2Ffantasyland%2Ffantasy-land)
    [334](/fantasyland/fantasy-land/stargazers)
-   [Fork](/login?return_to=%2Ffantasyland%2Ffantasy-land)
    [27](/fantasyland/fantasy-land/network)

[fantasyland](/fantasyland)/**[fantasy-land](/fantasyland/fantasy-land)** ![image](https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif)
========================================================================================================================================================

-   [Code
    ![image](https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif)](/fantasyland/fantasy-land)
-   [Issues
    ![image](https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif)](/fantasyland/fantasy-land/issues)
-   [Pull Requests
    ![image](https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif)](/fantasyland/fantasy-land/pulls)

-   [Pulse
    ![image](https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif)](/fantasyland/fantasy-land/pulse/weekly)
-   [Graphs
    ![image](https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif)](/fantasyland/fantasy-land/graphs)

### HTTPS clone URL

### Subversion checkout URL

You can clone with [HTTPS](#) or [Subversion](#).
[](https://help.github.com/articles/which-remote-url-should-i-use)

[Download
ZIP](/fantasyland/fantasy-land/archive/master.zip "Download the contents of fantasyland/fantasy-land as a zip file")

Specification for interoperability of common algebraic structures in
JavaScript

-   [85 commits](/fantasyland/fantasy-land/commits/master)
-   [1 branch](/fantasyland/fantasy-land/branches)
-   [1 release](/fantasyland/fantasy-land/releases)
-   [Fetching
    contributors](/fantasyland/fantasy-land/graphs/contributors)

1.  [JavaScript 100%](/fantasyland/fantasy-land/search?l=javascript)

[JavaScript](#)

[](/fantasyland/fantasy-land/find/master)
[](/fantasyland/fantasy-land/compare)

*branch:* master

Switch branches/tags

-   [Branches](#)
-   [Tags](#)

[master](/fantasyland/fantasy-land/tree/master "master")

Nothing to show

[v0.1.0](/fantasyland/fantasy-land/tree/v0.1.0 "v0.1.0")

Nothing to show

[fantasy-land](/fantasyland/fantasy-land) /

[Merge pull
request](/fantasyland/fantasy-land/commit/03a750f33d15b11acb03f76f38c6b7ef523d1863 "Merge pull request #75 from cbowdon/tsmonad

Added TsMonad to listed implementations")
[\#75](https://github.com/fantasyland/fantasy-land/pull/75 "Added TsMonad to listed implementations")
[from
cbowdon/tsmonad](/fantasyland/fantasy-land/commit/03a750f33d15b11acb03f76f38c6b7ef523d1863 "Merge pull request #75 from cbowdon/tsmonad

Added TsMonad to listed implementations") […](#)

    Added TsMonad to listed implementations

[latest commit
03a750f33d](/fantasyland/fantasy-land/commit/03a750f33d15b11acb03f76f38c6b7ef523d1863)

![Brian
McKenna](https://avatars3.githubusercontent.com/u/37715?v=2&s=40)
[puffnfresh](/puffnfresh) authored September 03, 2014

  -------------------------------------------------------------------------------- ----------------------------------------------------------------------------------------------------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- --------------------
  ![image](https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif)   [figures](/fantasyland/fantasy-land/tree/master/figures "figures")                                    [Add dependency graph](/fantasyland/fantasy-land/commit/294d1078231ca9cc7abd652ea7fb860b2b79cdde "Add dependency graph")                                                                                                                                                              April 15, 2014

  ![image](https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif)   [README.md](/fantasyland/fantasy-land/blob/master/README.md "README.md")                              [Fix another issue in the Comonad specification.](/fantasyland/fantasy-land/commit/8872cb32691c7d60293f8ea266cd179e644c2d9a "Fix another issue in the Comonad specification.")                                                                                                        July 23, 2014

  ![image](https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif)   [id.js](/fantasyland/fantasy-land/blob/master/id.js "id.js")                                          [Merge pull request](/fantasyland/fantasy-land/commit/447b7770855db4e36593be854593c35d75914fdb "Merge pull request #70 from 5outh/master                                                                                                                                              July 08, 2014
                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
                                                                                                                                                                                         Add Extend and Comonad Specifications") [\#70](https://github.com/fantasyland/fantasy-land/pull/70 "Add Extend and Comonad Specifications") [from 5outh/master](/fantasyland/fantasy-land/commit/447b7770855db4e36593be854593c35d75914fdb "Merge pull request #70 from 5outh/master   
                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
                                                                                                                                                                                         Add Extend and Comonad Specifications")                                                                                                                                                                                                                                               

  ![image](https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif)   [implementations.md](/fantasyland/fantasy-land/blob/master/implementations.md "implementations.md")   [Added TsMonad to listed implementations](/fantasyland/fantasy-land/commit/9babc8c0dcc79828911fb641d99b5beb23aa92ec "Added TsMonad to listed implementations")                                                                                                                        September 03, 2014

  ![image](https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif)   [logo.png](/fantasyland/fantasy-land/blob/master/logo.png "logo.png")                                 [Let the fantasy begin](/fantasyland/fantasy-land/commit/8586eb750c6fda88210ffc8302e44ce5fb7bf5e8 "Let the fantasy begin")                                                                                                                                                            April 11, 2013

  ![image](https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif)   [package.json](/fantasyland/fantasy-land/blob/master/package.json "package.json")                     [Update package.json, bump version to 0.1.0](/fantasyland/fantasy-land/commit/93d98e5335418ffb2e6ecf570a5b525148ff0e94 "Update package.json, bump version to 0.1.0")                                                                                                                  April 13, 2014
  -------------------------------------------------------------------------------- ----------------------------------------------------------------------------------------------------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- --------------------

### README.md

[](#fantasy-land-specification)Fantasy Land Specification
=========================================================

(aka "Algebraic JavaScript Specification")

[![image](/fantasyland/fantasy-land/raw/master/logo.png)](/fantasyland/fantasy-land/blob/master/logo.png)

This project specifies interoperability of common algebraic structures:

-   Setoid
-   Semigroup
-   Monoid
-   Functor
-   Apply
-   Applicative
-   Chain
-   Monad
-   Extend
-   Comonad

[![image](/fantasyland/fantasy-land/raw/master/figures/dependencies.png)](/fantasyland/fantasy-land/blob/master/figures/dependencies.png)

[](#general)General
-------------------

An algebra is a set of values, a set of operators that it is closed
under and some laws it must obey.

Each Fantasy Land algebra is a separate specification. An algebra may
have dependencies on other algebras which must be implemented. An
algebra may also state other algebra methods which do not need to be
implemented and how they can be derived from new methods.

[](#terminology)Terminology
---------------------------

1.  "value" is any JavaScript value, including any which have the
    structures defined below.
2.  "equivalent" is an appropriate definition of equivalence for the
    given value. The definition should ensure that the two values can be
    safely swapped out in a program that respects abstractions. For
    example:
    -   Two lists are equivalent if they are equivalent at all indices.
    -   Two plain old JavaScript objects, interpreted as dictionaries,
        are equivalent when they are equivalent for all keys.
    -   Two promises are equivalent when they yield equivalent values.
    -   Two functions are equivalent if they yield equivalent outputs
        for equivalent inputs.

[](#algebras)Algebras
---------------------

### [](#setoid)Setoid

1.  `a.equals(a) === true` (reflexivity)
2.  `a.equals(b) === b.equals(a)` (symmetry)
3.  If `a.equals(b)` and `b.equals(c)`, then `a.equals(c)`
    (transitivity)

#### [](#equals-method) `equals` method

A value which has a Setoid must provide an `equals` method. The `equals`
method takes one argument:

    a.equals(b)

1.  `b` must be a value of the same Setoid

    1.  If `b` is not the same Setoid, behaviour of `equals` is
        unspecified (returning `false` is recommended).

2.  `equals` must return a boolean (`true` or `false`).

### [](#semigroup)Semigroup

1.  `a.concat(b).concat(c)` is equivalent to `a.concat(b.concat(c))`
    (associativity)

#### [](#concat-method) `concat` method

A value which has a Semigroup must provide a `concat` method. The
`concat` method takes one argument:

    s.concat(b)

1.  `b` must be a value of the same Semigroup

    1.  If `b` is not the same semigroup, behaviour of `concat` is
        unspecified.

2.  `concat` must return a value of the same Semigroup.

### [](#monoid)Monoid

A value that implements the Monoid specification must also implement the
Semigroup specficiation.

1.  `m.concat(m.empty())` is equivalent to `m` (right identity)
2.  `m.empty().concat(m)` is equivalent to `m` (left identity)

#### [](#empty-method) `empty` method

A value which has a Monoid must provide an `empty` method on itself or
its `constructor` object. The `empty` method takes no arguments:

    m.empty()
    m.constructor.empty()

1.  `empty` must return a value of the same Monoid

### [](#functor)Functor

1.  `u.map(function(a) { return a; }))` is equivalent to `u` (identity)
2.  `u.map(function(x) { return f(g(x)); })` is equivalent to
    `u.map(g).map(f)` (composition)

#### [](#map-method) `map` method

A value which has a Functor must provide a `map` method. The `map`
method takes one argument:

    u.map(f)

1.  `f` must be a function,

    1.  If `f` is not a function, the behaviour of `map` is unspecified.
    2.  `f` can return any value.

2.  `map` must return a value of the same Functor

### [](#apply)Apply

A value that implements the Apply specification must also implement the
Functor specification.

1.  `a.map(function(f) { return function(g) { return function(x) { return f(g(x))}; }; }).ap(u).ap(v)`
    is equivalent to `a.ap(u.ap(v))` (composition)

#### [](#ap-method) `ap` method

A value which has an Apply must provide an `ap` method. The `ap` method
takes one argument:

    a.ap(b)

1.  `a` must be an Apply of a function,

    1.  If `a` does not represent a function, the behaviour of `ap` is
        unspecified.

2.  `b` must be an Apply of any value

3.  `ap` must apply the function in Apply `a` to the value in Apply `b`

### [](#applicative)Applicative

A value that implements the Applicative specification must also
implement the Apply specification.

A value which satisfies the specification of an Applicative does not
need to implement:

-   Functor's `map`; derivable as
    `function(f) { return this.of(f).ap(this); })}`

1.  `a.of(function(a) { return a; }).ap(v)` is equivalent to `v`
    (identity)
2.  `a.of(f).ap(a.of(x))` is equivalent to `a.of(f(x))` (homomorphism)
3.  `u.ap(a.of(y))` is equivalent to
    `a.of(function(f) { return f(y); }).ap(u)` (interchange)

#### [](#of-method) `of` method

A value which has an Applicative must provide an `of` method on itself
or its `constructor` object. The `of` method takes one argument:

    a.of(b)
    a.constructor.of(b)

1.  `of` must provide a value of the same Applicative

    1.  No parts of `b` should be checked

### [](#chain)Chain

A value that implements the Chain specification must also implement the
Apply specification.

A value which satisfies the specification of a Chain does not need to
implement:

-   Apply's `ap`; derivable as
    `m.chain(function(f) { return m.map(f); })`

1.  `m.chain(f).chain(g)` is equivalent to
    `m.chain(function(x) { return f(x).chain(g); })` (associativity)

#### [](#chain-method) `chain` method

A value which has a Chain must provide a `chain` method. The `chain`
method takes one argument:

    m.chain(f)

1.  `f` must be a function which returns a value

    1.  If `f` is not a function, the behaviour of `chain` is
        unspecified.
    2.  `f` must return a value of the same Chain

2.  `chain` must return a value of the same Chain

### [](#monad)Monad

A value that implements the Monad specification must also implement the
Applicative and Chain specifications.

A value which satisfies the specification of a Monad does not need to
implement:

-   Apply's `ap`; derivable as
    `function(m) { return this.chain(function(f) { return m.map(f); }); }`
-   Functor's `map`; derivable as
    `function(f) { var m = this; return m.chain(function(a) { return m.of(f(a)); })}`

1.  `m.of(a).chain(f)` is equivalent to `f(a)` (left identity)
2.  `m.chain(m.of)` is equivalent to `m` (right identity)

### [](#extend)Extend

1.  `w.extend(g).extend(f)` is equivalent to
    `w.extend( function(_w){ return f( _w.extend(g) ); } )`

#### [](#extend-method) `extend` method

An Extend must provide an `extend` method. The `extend` method takes one
argument:

     w.extend(f)

1.  `f` must be a function which returns a value

    1.  If `f` is not a function, the behaviour of `extend` is
        unspecified.
    2.  `f` must return a value of type `v`, for some variable `v`
        contained in `w`.

2.  `extend` must return a value of the same Extend.

### [](#comonad)Comonad

A value that implements the Comonad specification must also implement
the Functor and Extend specifications.

1.  `w.extend(function(_w){ return _w.from(); })` is equivalent to `w`
2.  `w.extend(f).from()` is equivalent to `f(w)`
3.  `w.extend(f)` is equivalent to
    `w.extend(function(x) { return x; }).map(f)`

#### [](#from-method) `from` method

A value which has a Comonad must provide a `from` method on itself. The
`from` method takes no arguments:

    c.from()

1.  `from` must return a value of type `v`, for some variable `v`
    contained in `w`.
    1.  `v` must have the same type that `f` returns in `extend`.

[](#notes)Notes
---------------

1.  If there's more than a single way to implement the methods and laws,
    the implementation should choose one and provide wrappers for other
    uses.
2.  It's discouraged to overload the specified methods. It can easily
    result in broken and buggy behaviour.
3.  It is recommended to throw an exception on unspecified behaviour.
4.  An `Id` container which implements all methods is provided in
    `id.js`.

-   [Status](https://status.github.com/)
-   [API](http://developer.github.com)
-   [Training](http://training.github.com)
-   [Shop](http://shop.github.com)
-   [Blog](/blog)
-   [About](/about)

[](/)

-   © 2014 GitHub, Inc.
-   [Terms](/site/terms)
-   [Privacy](/site/privacy)
-   [Security](/security)
-   [Contact](/contact)

[](#) [](#)

[](#) Something went wrong with that request. Please try again.

This markdown document has been converted from the html document located at:
https://github.com/fantasyland/fantasy-land
