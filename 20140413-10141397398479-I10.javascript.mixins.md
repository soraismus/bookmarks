[JavaScript, JavaScript…](http://javascriptweblog.wordpress.com/ "JavaScript, JavaScript…")
===========================================================================================

by Angus Croll
--------------

[![image](https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSUXbOkM_1i2DSPcJ2giZYfcwIVoi3Pvui6VvHN4JOGi0tQKGQD4g)](http://feeds.feedburner.com/JavascriptJavascript "Subscribe to my feed")
[![Follow angusTweets on
Twitter](https://twitter.com/images/resources/twitter-bird-blue-on-white.png)](https://www.twitter.com/angusTweets)[![Follow
me on
GitHub](https://github.com/github/media/raw/master/octocats/octocat.png)](https://github.com/angus-c "Follow me on GitHub")

I also blog here...\
[Angus on Svbtle](http://blog.anguscroll.com/) \
\
 ...and I wrote these...\
[If Hemingway wrote
JavaScript](http://byfat.xxx/if-hemingway-wrote-javascript)\
 [If Kerouac wrote
JavaScript](http://blog.anguscroll.com/if-kerouac-wrote-javascript)\
 [If Nabokov wrote
JavaScript](http://blog.anguscroll.com/tupac-does-javascript)\
 [Macbeth's lost
callback](http://blog.anguscroll.com/macbeths-lost-callback) \
\
 ..and I gave these talks... \
[Parlez-vous
JavaScript](https://speakerdeck.com/anguscroll/parlez-vous-javascript) \
[Break all the
Rulez](https://speakerdeck.com/anguscroll/break-all-the-rulez) \
[The Politics of
JavaScript](https://speakerdeck.com/anguscroll/the-politics-of-javascript)
\
\
\
\
\
\
\
\
\
\
\

[![image](http://feedjit.com/b/36a838868ab6245b84eef90cd00c1327.png)](http://feedjit.com/ir1/36a838868ab6245b84eef90cd00c1327/)

A fresh look at JavaScript Mixins
=================================

([Russian](http://habrahabr.ru/post/147901/),
[Japanese](http://d.hatena.ne.jp/kitokitoki/20111030/p1))

In this article I’ll explore JavaScript mixins in detail, and introduce
a less conventional, but to my mind more natural mixin strategy that I
hope you’ll find useful. I’ll finish up with a [profiler
matrix](http://javascriptweblog.files.wordpress.com/2011/05/screen-shot-2011-05-30-at-5-24-15-pm.png)
summarizing the performance impact of each technique. [A big Thank You
to the brilliant [@kitcambridge](https://twitter.com/kitcambridge) for
reviewing and improving the code on which this blog is based!]\
 ****\
 Re-using Functions

In JavaScript, every object references a prototype object from which it
can inherit properties. Prototypes are great instruments for re-use: a
single prototype instance can define properties for an infinite number
of dependent instances. Prototypes may also inherit from other
prototypes, thus forming prototype chains which more-or-less mimic the
inheritance hierarchies of classical languages like Java and C++.
Multi-tiered inheritance hierarchies are occasionally useful for
describing the natural order of objects but if the primary motivation is
function re-use they can quickly become gnarly labyrinths of meaningless
subtypes, frustrating redundancies and unmanageable logic (“is a button
a rectangle or is it a control? tell you what, lets make Button inherit
from Rectangle, and Rectangle can inherit from Control…wait a
minute….”).

Fortunately, when it comes to function re-use, JavaScript offers viable
alternatives. In contrast to more rigidly structured languages,
JavaScript objects can invoke any public function regardless of lineage.
The most straightforward approach is delegation – any public function
can be invoked directly via `call` or `apply`. It’s a powerful feature
and I use it extensively. However delegation is so convenient that
sometimes it actually works against structural discipline in your code;
moreover the syntax can get a little wordy. Mixins are a great
compromise, allowing entire functional units to be borrowed and accessed
with minimal syntax and they play very well with prototypes. They offer
the descriptive prowess of hierarchical inheritance without the
brain-cracking issues associated with multi-tiered, single-rooted
ancestry.\
 \
 The Basics

In general computer science, a mixin is a class that defines a set of
functions relating to a type (e.g. Person, Circle, Observer). Mixins
classes are usually considered abstract in that they will not themselves
be instantiated – instead their functions are copied (or ‘borrowed’) by
concrete classes as a means of ‘inheriting’ behaviour without entering
into a formal relationship with the behaviour provider.

OK but this is JavaScript, and we have no classes. This is actually a
good thing because it means we can use objects (instances) instead,
which offer clarity and flexibility: our mixin can be a regular object,
a prototype, a function – whatever, and the mixin process becomes
transparent and obvious.\
 \
 The Use Case

I’m going to discuss a number of mixin techniques but all the coding
examples are directed towards one use case: creating circular, oval or
rectangular buttons. Here’s a schematic representation (rendered using
the latest high tech gadgetry). Square boxes represent mixin objects,
rounded boxes represent the actual buttons…

![image](http://javascriptweblog.files.wordpress.com/2011/05/mixin3.jpg?w=660 "mixin")\
 \
 \
 1. Classic Mixins

Scanning the first two pages returned from a google search for
“javascript mixin” I noticed the majority of authors define the mixin
object as full-blown constructor type with its function-set defined in
the prototoype. This could be seen as a natural progression – early
mixins were classes and this is the closest thing JavaScript has to a
class. Here’s a circle mixin modeled after that style:

~~~~ {.brush: .jscript; .title: .; .wrap-lines: .false; .notranslate
title=""}
var Circle = function() {};
Circle.prototype = {
  area: function() {
    return Math.PI * this.radius * this.radius;
  },
  grow: function() {
    this.radius++;
  },
  shrink: function() {
    this.radius--;
  }
};    
~~~~

\
 In practice, however, such a heavyweight mixin is unnecessary. A simple
object literal will suffice:

~~~~ {.brush: .jscript; .title: .; .wrap-lines: .false; .notranslate
title=""}
var circleFns = {
  area: function() {
    return Math.PI * this.radius * this.radius;
  },
  grow: function() {
    this.radius++;
  },
  shrink: function() {
    this.radius--;
  }
};    
~~~~

\
 the extend function

And how does such a mixin object get mixed into your object? By means of
an `extend` function (sometimes known as `augment`). Usually `extend`
simply copies (not clones) the mixin’s functions into the receiving
object. A quick survey reveals some minor variations in this
implementation. For example Prototype.js omits a `hasOwnProperty` check
(suggesting the mixin will have no enumerable properties in its
prototype chain) while other versions assume you want to only copy the
mixin’s prototype object. Here’s a version that is both safe and
flexible…

~~~~ {.brush: .jscript; .title: .; .wrap-lines: .false; .notranslate
title=""}
function extend(destination, source) {
  for (var k in source) {
    if (source.hasOwnProperty(k)) {
      destination[k] = source[k];
    }
  }
  return destination; 
}
~~~~

\
 …which we can call to extend our prototype…

~~~~ {.brush: .jscript; .title: .; .wrap-lines: .false; .notranslate
title=""}
var RoundButton = function(radius, label) {
  this.radius = radius;
  this.label = label;
};

extend(RoundButton.prototype, circleFns);
extend(RoundButton.prototype, buttonFns);
//etc. ...
~~~~

\
 2. Functional Mixins

If the functions defined by mixins are intended solely for the use of
other objects, why bother creating mixins as regular objects at all? Put
another way, a mixin should be a process not an object. The logical
conclusion is to make our mixins into functions into which consumer
objects inject themselves by delegation, thus cutting out the middle guy
(the `extend` function) entirely.

~~~~ {.brush: .jscript; .title: .; .wrap-lines: .false; .notranslate
title=""}
var asCircle = function() {
  this.area = function() {
    return Math.PI * this.radius * this.radius;
  };
  this.grow = function() {
    this.radius++;
  };
  this.shrink = function() {
    this.radius--;
  };
  return this;
};

var Circle = function(radius) {
    this.radius = radius;
};
asCircle.call(Circle.prototype);
var circle1 = new Circle(5);
circle1.area(); //78.54
~~~~

\
 This approach feels right. Mixins as verbs instead of nouns;
lightweight one stop function shops. There are other things to like here
too – the programming style is natural and concise: `this` always refers
to the receiver of the function set, instead of an abstract object we
don’t need and will never use; moreover, in contrast to the traditional
approach, we don’t have to protect against inadvertent copying of
inherited properties and (for what its worth) functions are now cloned
instead of copied.

Now here’s a mixin for the button functions…

~~~~ {.brush: .jscript; .title: .; .wrap-lines: .false; .notranslate
title=""}
var asButton = function() {
  this.hover = function(bool) {
    bool ? mylib.appendClass('hover') : mylib.removeClass('hover');
  };
  this.press = function(bool) {
    bool ? mylib.appendClass('pressed') : mylib.removeClass('pressed');
  };
  this.fire = function() {
    return this.action();
  };
  return this;
}; 
~~~~

\
 Put the two mixins together and we’ve got round buttons:

~~~~ {.brush: .jscript; .title: .; .wrap-lines: .false; .notranslate
title=""}
var RoundButton = function(radius, label, action) {
    this.radius = radius;
    this.label = label;
    this.action = action;
};

asButton.call(RoundButton.prototype);
asCircle.call(RoundButton.prototype);

var button1 = new RoundButton(4, 'yes!', function() {return 'you said yes!'});
button1.fire(); //'you said yes!'
~~~~

\
 3. Adding Options

This functional strategy also allows the borrowed behaviours to be
parameterized by means of an options argument. Let’s see this in action
by creating an `asOval` mixin with a custom grow and shrink factor:

~~~~ {.brush: .jscript; .title: .; .wrap-lines: .false; .notranslate
title=""}
var asOval = function(options) {
  this.area = function() {
    return Math.PI * this.longRadius * this.shortRadius;
  };
  this.ratio = function() {
    return this.longRadius/this.shortRadius;
  };
  this.grow = function() {
    this.shortRadius += (options.growBy/this.ratio());
    this.longRadius += options.growBy;
  };
  this.shrink = function() {
    this.shortRadius -= (options.shrinkBy/this.ratio());
    this.longRadius -= options.shrinkBy;
  };
  return this;
}

var OvalButton = function(longRadius, shortRadius, label, action) {
  this.longRadius = longRadius;
  this.shortRadius = shortRadius;
  this.label = label;
  this.action = action;
};

asButton.call(OvalButton.prototype);
asOval.call(OvalButton.prototype, {growBy: 2, shrinkBy: 2});

var button2 = new OvalButton(3, 2, 'send', function() {return 'message sent'});
button2.area(); //18.84955592153876
button2.grow();
button2.area(); //52.35987755982988 
button2.fire(); //'message sent'
~~~~

\
 4. Adding Caching

So maybe you’re concerned that this approach creates additional
performance overhead because we’re redefining the same functions on
every call. With the help of the excellent
[jsperf.com](http://jsperf.com) I ran metrics on every mixin strategy
over 4 browsers (you can see the results at the end of this article).
Surprisingly Chrome 12 performs significantly better using the
functional approach, for the other browsers the functional mixin runs
about half as fast as the classic mixin. Given that these mixins are
likely to be invoked just once per type definition (as opposed to once
per instance creation) the time difference should not cause too much
worry, especially since we’re still talking 26,000 mixins per second
even in IE8!

However just in case rates like that are keeping your manager up at
night, there is a solution. By forming a closure around the mixins we
can cache the results of the initial definition run and the performance
implications are outstanding. Functional mixins now easily outperform
classic mixins in every browser (in my tests by a factor of 20 in Chrome
and a factor of 13 in Firefox 4). Again it doesn’t matter much either
way but it leaves a nice feeling ;-)

Here’s a version of the `asRectangle` with caching added…

~~~~ {.brush: .jscript; .title: .; .wrap-lines: .false; .notranslate
title=""}
var asRectangle = (function() {
  function area() {
    return this.length * this.width;
  }
  function grow() {
    this.length++, this.width++;
  }
  function shrink() {
    this.length--, this.width--;
  }
  return function() {
    this.area = area;
    this.grow = grow;
    this.shrink = shrink;
    return this;
  };
})();

var RectangularButton = function(length, width, label, action) {
  this.length = length;
  this.width = width;
  this.label = label;
  this.action = action;
}

asButton.call(RectangularButton.prototype);
asRectangle.call(RectangularButton.prototype);

var button3 = 
  new RectangularButton(4, 2, 'delete', function() {return 'deleted'});
button3.area(); //8
button3.grow();
button3.area(); //15
button3.fire(); //'deleted'
~~~~

\
 5. Adding Curry

Everything in life is a trade off and the aforementioned caching
enhancement is no exception. We’ve now lost the ability to create true
clones for every mixin, furthermore we can no longer customize our
borrowed functions by passing option arguments to the mixin. The latter
problem can be fixed up by running a
[curry](http://javascriptweblog.wordpress.com/2010/04/05/curry-cooking-up-tastier-functions/)
function over each cached function, thereby pre-assigning custom options
to subsequent function calls.

Here’s the `asRectangle` mixin with functions appropriately curried to
allow parameterization of the grow and shrink increments.

~~~~ {.brush: .jscript; .title: .; .wrap-lines: .false; .notranslate
title=""}
Function.prototype.curry = function() {
  var fn = this;
  var args = [].slice.call(arguments, 0);
  return function() {
    return fn.apply(this, args.concat([].slice.call(arguments, 0)));
  };
}

var asRectangle = (function() {
  function area() {
    return this.length * this.width;
  }
  function grow(growBy) {
    this.length += growBy, this.width +=growBy;
  }
  function shrink(shrinkBy) {
    this.length -= shrinkBy, this.width -= shrinkBy;
  }
  return function(options) {
    this.area = area;
    this.grow = grow.curry(options['growBy']);
    this.shrink = shrink.curry(options['shrinkBy']);
    return this;
  };
})();

asButton.call(RectangularButton.prototype);
asRectangle.call(RectangularButton.prototype, {growBy: 2, shrinkBy: 2});

var button4 = new RectangularButton(2, 1, 'add', function() {return 'added'});
button4.area(); //2
button4.grow();
button4.area(); //12
button4.fire(); //'added'
~~~~

\
 Performance Metrics

As promised, here’s a summary of my [jsperf
tests](http://jsperf.com/mixin-fun/2), matrixed by technique and
browser.\
 Remember the results are in thousands of operations per second, so high
numbers are good.

![image](http://javascriptweblog.files.wordpress.com/2011/05/screen-shot-2011-05-30-at-5-24-15-pm.png?w=660 "Screen shot 2011-05-30 at 5.24.15 PM")\
 \
 \
 Wrap Up

JavaScript is an amalgam of function and state. State is generally
specific to instances, while functions will almost certainly be shared
across instances. Maybe it’s in our interest to separate these two most
basic concerns and maybe mixins can help us do this.

In particular the functional mixin pattern offers a clear delineation.
Objects are state while functions are organized in bunches like fruit on
a tree, ripe for picking. In fact the strategy can be extended beyond
pure mixins – functional sets can act as repositories for any object…

~~~~ {.brush: .jscript; .title: .; .wrap-lines: .false; .notranslate
title=""}
var myCircle = asCircle.call({radius:25});
myCircle.area(); //1963.50
~~~~

Have fun exploring mixins, and as always please let me know of
corrections and other feedback!

[About these ads](http://en.wordpress.com/about-these-ads/)

### Like this:

Like Loading...

### *Related*

[May 31,
2011](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/ "00:01")
by [Angus
Croll](http://javascriptweblog.wordpress.com/author/angusjs/ "View all posts by Angus Croll")
| Tags:
[Inheritance](http://javascriptweblog.wordpress.com/tag/inheritance/),
[mixins](http://javascriptweblog.wordpress.com/tag/mixins/),
[re-use](http://javascriptweblog.wordpress.com/tag/re-use/) | [78
Comments](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comments "Comment on A fresh look at JavaScript Mixins")

Post navigation
===============

[← JavaScript Strict
Mode](http://javascriptweblog.wordpress.com/2011/05/03/javascript-strict-mode/)

[Waldo: Search the JavaScript Object Model in under 1 KB
→](http://javascriptweblog.wordpress.com/2011/07/11/waldo-search-the-javascript-runtime-in-under-1-kb/)

78 thoughts on “A fresh look at JavaScript Mixins”
--------------------------------------------------

1.  ![image](http://1.gravatar.com/avatar/756925a85b0bfd97b9f7007e1809eb3b?s=50&d=monsterid&r=G)

    [Michal Kuklis](http://michalkuklis.com) says: [May 31, 2011 at
    07:53](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3042)

    This is an interesting approach. I’ve been using traditional mixins
    (with the extend helper around). I really like the way you described
    it: “a mixin should be a process not an object”. The one thing which
    concerns me is the fact that the mixin functions are redefined on
    every call now (which you addressed with the closure and caching).

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3042#respond)

2.  ![image](http://2.gravatar.com/avatar/2b0a93dc132be4bf3b15b50c8a7e8089?s=50&d=monsterid&r=G)

    [Skilldrick](http://skilldrick.co.uk) says: [May 31, 2011 at
    07:57](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3043)

    Great post. I really like the idea of a mixin being a verb rather
    than a noun – i.e. something you *do* to an object. It’s nice to see
    such a range of approaches.

    One thing though: not sure I’d agree with what you call the
    “revealing module pattern” – to me that’s where you return an
    object, e.g. `return { area: area, grow: grow, shrink: shrink};` or
    something like that. I know it’s basically doing the same thing, and
    there’s probably not a name for what you’re doing there! I’d
    probably say something like “a modified revealing module pattern”
    though. Sorry, pedantry over :P

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3043#respond)

3.  ![image](http://2.gravatar.com/avatar/52c6174ba60557536f93809b4e95d97c?s=50&d=monsterid&r=G)

    [Angus Croll](http://javascriptweblog.wordpress.com) says: [May 31,
    2011 at
    08:34](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3044)

    @Michal – glad you like it! Remember even the non cached version
    should not cause a performance headache – when applied to
    prototypes, the mixin pattern will only be applied rarely (when
    constructors/types are initially defined) and in total probably no
    more than a handful of times. Also there are benefits to redefining
    the function – it ensures each prototype gets a unique version of a
    function which is useful if you want to parameterize their
    definitions. But I take your point and you should go with what works
    for you.

    @Skilldrick – thanks! Yeah you’re right – put it down to a senior
    moment, This is really just the regular module pattern (though with
    a twist because it returns a function not a regular object). I
    edited the article to remove any trace ;-)

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3044#respond)

4.  ![image](http://1.gravatar.com/avatar/1ecb9d7eb5d4b5bcad2fba8187f2a323?s=50&d=monsterid&r=G)

    autre says: [May 31, 2011 at
    13:42](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3048)

    I guess/hope that traits are also on your radar.

    Great treatment as always. Thanks :)

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3048#respond)

    -   ![image](http://2.gravatar.com/avatar/52c6174ba60557536f93809b4e95d97c?s=50&d=monsterid&r=G)

        [Angus Croll](http://javascriptweblog.wordpress.com) says: [May
        31, 2011 at
        14:21](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3052)

        @autre, thanks for the nice words!\
         Yes traits are sort of a logical progression from the custom
        mixins I started exploring in this article. There is power in
        their flexibility/intelligence although the implementation must
        be kept as simple as possible

        [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3052#respond)

        -   ![image](http://0.gravatar.com/avatar/?s=50&d=monsterid&r=G)

            [Jordão](http://codecrafter.blogspot.com) says: [June 8,
            2011 at
            12:30](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3191)

            Take a look at traits.js:
            [http://howtonode.org/traitsjs](http://howtonode.org/traitsjs)

5.  ![image](http://2.gravatar.com/avatar/553d02417440b7dd2467844a2cdeda88?s=50&d=monsterid&r=G)

    [Saeed Neamati](http://www.thoughtresults.com) says: [June 1, 2011
    at
    05:17](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3060)

    Good article. At first understandable and easy, but it get’s more
    difficult while your read (or maybe I felt so). I think mixin is a
    non-deductional term and an MDT (more deductional term) for it could
    be commons or something like that. As much as I know about them,
    they are only common behaviors or functionalities (common properties
    or common methods) that let you use them anywhere. With this
    definition, mixins are not interfaces (as they are not contracts),
    and they are not base abstract classes (as the relationship is not
    is-a). They are has-a relationship.\
     Anyway, let’s support CSS3. Read [CSS3 Multi-Column Layout
    Module](http://www.thoughtresults.com/css-multicol) and [CSS3
    Animations](http://www.thoughtresults.com/css-animations) and have a
    look at css animations at [My heart
    beats](http://www.thoughtresults.com/fatemeh-my-heart-beats-for-you)
    using latest version of Google Chrome.

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3060#respond)

6.  Pingback: [JavaScript Mixin Remix | FunctionSource
    Development](http://functionscopedev.wordpress.com/2011/06/03/javascript-mixin-remix/)

7.  ![image](http://0.gravatar.com/avatar/?s=50&d=monsterid&r=G)

    [Jie](http://twitter.com/jie) says: [June 3, 2011 at
    09:23](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3113)

    Very nice article!! Thx!! The JSPerf test is showing that the
    caching method is way faster than the other mixins methods. But the
    caching mixin method, though faster, doesn’t generate the fastest
    class in the end (instantiation & method call slower, see
    [http://jsperf.com/mixin-fun/4](http://jsperf.com/mixin-fun/4))
    Shouldn’t we use the mixin method that generates the fastest class?

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3113#respond)

    -   ![image](http://2.gravatar.com/avatar/52c6174ba60557536f93809b4e95d97c?s=50&d=monsterid&r=G)

        [Angus Croll](http://javascriptweblog.wordpress.com) says: [June
        3, 2011 at
        11:40](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3118)

        Hi Jie – thanks for the feedback. You’re tests are now measuring
        object instantiation not mixin time. The first 3 cases are
        actually identical. The differences are arbitrary – I created a
        new test
        [http://jsperf.com/mixin-fun/5](http://jsperf.com/mixin-fun/5)
        which switches the order of your first two tests -now the new
        style instantiation is quicker!

        [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3118#respond)

        -   ![image](http://0.gravatar.com/avatar/?s=50&d=monsterid&r=G)

            [Jie](http://twitter.com/jie) says: [June 6, 2011 at
            08:57](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3164)

            Thanks for the clarification! Indeed, same prototype, same
            perfs. Strange that jsperf behaves so differently just by
            switching the order of the tests. I’m asking @jdalton about
            this!

8.  ![image](http://0.gravatar.com/avatar/?s=50&d=monsterid&r=G)

    Anonymous says: [June 3, 2011 at
    10:31](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3115)

    Did you see Jie’s revision of the jsperf tests?
    [http://jsperf.com/mixin-fun/4](http://jsperf.com/mixin-fun/4)

    He moved the extend functionality into the preparation of
    CircularObject1 (because you don’t need to extend CircularObject1
    every time you instantiate it)

    Now the “old style” becomes the fastest.

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3115#respond)

    -   ![image](http://2.gravatar.com/avatar/52c6174ba60557536f93809b4e95d97c?s=50&d=monsterid&r=G)

        [Angus Croll](http://javascriptweblog.wordpress.com) says: [June
        3, 2011 at
        11:41](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3119)

        Yeah, Jie’s test measures instantiation time, not mixin time –
        so the mixin code can be removed from every test (old and new
        style). Now the first 3 cases are identical (all 3 prototypes
        are the same) so the results are arbitary

        In fact you can switch test 1 with test 2 as I did
        ([http://jsperf.com/mixin-fun/5](http://jsperf.com/mixin-fun/5))
        and new style instantiaton now appears faster!

        [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3119#respond)

9.  ![image](http://1.gravatar.com/avatar/18fe0affe54dda2f031efc78babcf2a6?s=50&d=monsterid&r=G)

    [Aaron Frost](http://40win.com) says: [June 3, 2011 at
    11:12](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3117)

    Dear Author,

    You are sick! This was an awesome blog! Great job at explaining in
    detail, and explaining clearly for non-Sr-JS readers.

    –\
     AF

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3117#respond)

    -   ![image](http://2.gravatar.com/avatar/52c6174ba60557536f93809b4e95d97c?s=50&d=monsterid&r=G)

        [Angus Croll](http://javascriptweblog.wordpress.com) says: [June
        3, 2011 at
        11:42](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3120)

        thank you Sir!

        [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3120#respond)

10. Pingback: [Friday Links \#155 | Blue Onion Software
    \*](http://blueonionsoftware.com/blog.aspx?p=e0242be3-ec8d-420a-a77f-895cad168084)

11. Pingback: [Bookmarks for 2011-06-02 through 2011-06-04 |
    undefined-0](http://milligramme.cc/love/archives/113)

12. ![image](http://2.gravatar.com/avatar/569ddc6f7b2d926abe84c0914ac8afa9?s=50&d=monsterid&r=G)

    [Rajat](http://lifeinafolder.com) says: [June 4, 2011 at
    10:29](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3134)

    Great post Angus! Much Appreciated.

    I am trying to think what other places would mixins come in
    handy,though.

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3134#respond)

13. ![image](http://2.gravatar.com/avatar/53bce92a03ee94d3d9011cde3033f2c8?s=50&d=monsterid&r=G)

    [Jeremy Kahn](http://jeremyckahn.com) says: [June 4, 2011 at
    12:08](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3137)

    This is a really good post, these approaches are pretty cool. I
    agree that the processing cost is usually trivial with
    instantiation. However, I would be concerned about the memory
    overhead with some of these mixin patterns. It’s my understanding
    that taking any approach other than “true” prototypal inheritance
    makes a copy (in memory) of each method that gets
    mixed-in/inherited.

    I suppose the best solution depends on a lot of factors. For most
    applications, the approaches you describe are elegant and offer more
    than enough performance. For certain situations, such as making a
    game or a page that never refreshes (Gmail), it pays to watch memory
    consumption and optimize function reuse.

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3137#respond)

    -   ![image](http://2.gravatar.com/avatar/52c6174ba60557536f93809b4e95d97c?s=50&d=monsterid&r=G)

        [Angus Croll](http://javascriptweblog.wordpress.com) says: [June
        4, 2011 at
        12:15](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3138)

        Thanks Jeremy. Just to clarify, in all the strategies I discuss,
        the developer is free to pass a prototype as the mixin context –
        in fact in all my examples (except the one in the wrap up)
        that’s exactly what happens – so there is zero loss in
        instantiation performance. Put it another way, using the classic
        versus the functional technique does not predicate use of
        prototypes.

        [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3138#respond)

14. ![image](http://1.gravatar.com/avatar/a0157bf97f96e7768391d38de4a01ea8?s=50&d=monsterid&r=G)

    Eric says: [June 4, 2011 at
    12:35](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3139)

    Thanks for the article. Here’s one criticism.

    Eliminating “extend” seems overly minimalist. By using “call”
    directly, you’ve let a low-level tool bubble up into high-level
    code.

    extend(RoundButton.prototype, circleFns);\
     asCircle.call(RoundButton.prototype);

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3139#respond)

    -   ![image](http://2.gravatar.com/avatar/52c6174ba60557536f93809b4e95d97c?s=50&d=monsterid&r=G)

        [Angus Croll](http://javascriptweblog.wordpress.com) says: [June
        4, 2011 at
        12:44](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3140)

        Hi Eric. My point was less about syntax than process. The old
        `extend` was a somewhat tedious copy process. The new technique
        eliminates the copy step. If you’re uncomfortable with call you
        could wrap it in extend:

~~~~ {.brush: .jscript; .title: .; .notranslate title=""}
function extend(fn, obj) {
  fn.call(obj);
}
~~~~

        [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3140#respond)

15. ![image](http://0.gravatar.com/avatar/6f8871c3e45fc978209675ace3652688?s=50&d=monsterid&r=G)

    Evan Q Jones says: [June 4, 2011 at
    23:26](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3149)

    Nice one, it is a shame that JS has single inheritance \_and\_ poor
    object enumeration. The so-called “old-style” approach does have the
    advantage of being predictable, extendable(ish), and not entering
    functions in triplicate.

    I added a snippet
    ([http://jsperf.com/mixin-fun/10](http://jsperf.com/mixin-fun/10))
    with a utility that precompiles a “caching” copier for a regular
    object. Also! jsperf was sharing the same prototype between tests.

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3149#respond)

    -   ![image](http://2.gravatar.com/avatar/52c6174ba60557536f93809b4e95d97c?s=50&d=monsterid&r=G)

        [Angus Croll](http://javascriptweblog.wordpress.com) says: [June
        5, 2011 at
        16:52](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3157)

        Oh good call! I missed the fact that I was not resetting the
        prototype each time – this inevitably adds a little more latency
        to later tests.

        Fixed now\
         [http://jsperf.com/mixin-fun/12](http://jsperf.com/mixin-fun/12)

        BTW not sure what you mean about old-style being more
        predictable, extendable(ish), and not entering functions in
        triplicate. New-style is all of those things

        Thanks for adding another test – I’ll take a proper look when I
        get a chance.

        [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3157#respond)

        -   ![image](http://0.gravatar.com/avatar/?s=50&d=monsterid&r=G)

            Anonymous says: [June 7, 2011 at
            12:51](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3178)

            Don’t get me wrong. I like the idea of
            mixin/extension/instantiation as a function. But we are
            defining “methods” here, so if the mixins look like
            prototypes, i.e., plain objects, that’s going to be less
            unexpected, though unexpected may be what you’re going for.
            I can’t really elaborate more on that point.

            Since the methods have to be copied to the target class,
            neither method is going to support “live” extensions, but if
            you wanted to support plugins, say, it’s a bit easier to
            have methods attached to an object than, I suppose, wrapping
            the mixin function to get additional functionality.

            And as you demonstrated, re-using the same functions
            required you to close over another function which had to
            essentially repeat the function names another two times to
            work.

16. Pingback: [JavaScript Magazine Blog for JSMag » Blog Archive » News
    roundup: emscripten and Doom in the browser, plax,
    js2coffee](http://jsmag.com/blog/2011/06/news-roundup-emscripten-and-doom-in-the-browser-plax-js2coffee/)

17. Pingback: [Veckans länktips – 2011-06-05 |
    lillbra.se](http://lillbra.se/2011/06/veckans-lnktips-2011-06-05/)

18. ![image](http://2.gravatar.com/avatar/51e410726d11dba216a81b751c3769f5?s=50&d=monsterid&r=G)

    [Klaus Hebsgaard](http://khebbie.dk) says: [June 6, 2011 at
    12:10](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3168)

    Hey Man\
     Very inspiring post. A colleague an I liked it so much we did a
    thing similar to Douglas Crockfords Object.Create:\
     if (typeof Object.prototype.addMixin !== ‘function’) {\
     Object.prototype.addMixin = function (mixin) {\
     mixin.call(this.prototype);\
     };\
     }

    This way we can write:\
     RoundButton.addMixin(asButton);\
     RoundButton.addMixin(asCircle);

    Which reads nicely

    [http://jsfiddle.net/khebbie/4ZkSZ/10/](http://jsfiddle.net/khebbie/4ZkSZ/10/)

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3168#respond)

    -   ![image](http://2.gravatar.com/avatar/52c6174ba60557536f93809b4e95d97c?s=50&d=monsterid&r=G)

        [Angus Croll](http://javascriptweblog.wordpress.com) says: [June
        6, 2011 at
        13:04](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3169)

        Hey Klaus – Glad you liked it – nice update!

        [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3169#respond)

    -   ![image](http://0.gravatar.com/avatar/fb3b09f895e6453c0619b5769ef7ebd3?s=50&d=monsterid&r=G)

        [cletusw](http://socopercussion.wordpress.com) says: [August 6,
        2012 at
        14:31](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-12874)

        I like it! My only addition would be that since you are
        extending Object.prototype, you should probably make sure to
        mark addMixin as not enumerable:

        if (typeof Object.prototype.addMixin !== ‘function’) {\
         Object.defineProperty(Object.prototype, ‘addMixin’, {\
         value: function addMixin(mixin) {\
         mixin.call(this.prototype);\
         },\
         configurable: true,\
         writable: true\
         });\
         }

        [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=12874#respond)

19. Pingback: [7/11 and Foursquare offer spaceflight as competition
    prize « V E X E
    D](http://www.vexeddigital.com/2011/06/08/711-and-foursquare-offer-spaceflight-as-competition-prize/)

20. ![image](http://0.gravatar.com/avatar/f5c9c7b5ac167bf646a1141a7e9b7760?s=50&d=monsterid&r=G)

    [Nick Carter](http://thynctank.com) says: [June 10, 2011 at
    03:42](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3209)

    The “mixin as a verb” thing is almost exactly like the decorator
    pattern, which is also very useful for the same reasons.

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3209#respond)

    -   ![image](http://2.gravatar.com/avatar/52c6174ba60557536f93809b4e95d97c?s=50&d=monsterid&r=G)

        [Angus Croll](http://javascriptweblog.wordpress.com) says: [June
        10, 2011 at
        08:13](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3211)

        @nick totally agree – in fact I nearly called it mixin
        decorators. Bottom line is it probably help to think of mixins
        as decorators not agents of multiple inheritance

        [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3211#respond)

21. Pingback: [links for 2011-06-18 «
    pabloidz](http://pabloidz.wordpress.com/2011/06/18/links-for-2011-06-18/)

22. Pingback: [Revision 28: Niemand hat Lion oder iOS 5 | Working
    Draft](http://workingdraft.de/28/)

23. Pingback: [Orizen Designs – Pure Insight – Freelance of all related
    to web – Web Design, Development, Flash, Flex, Swishmax » Blog
    Archive » Javascript Monthly Digest – 06/2011 swishmax components,
    gui design, gui
    development](http://orizens.com/wp/topics/javascript-monthly-digest-062011/)

24. Pingback: [Rounded Corners 269 — Lawn mowers racing /by
    @assaf](http://labnotes.org/2011/07/08/rounded-corners-269-%e2%80%94-lawn-mowers-racing/)

25. Pingback: [A fresh look at JavaScript Mixins | Javascript |
    Syngu](http://www.syngu.com/development/841551092/a-fresh-look-at-javascript-mixins/)

26. ![image](http://i0.wp.com/a3.twimg.com/profile_images/1263573414/ryno_normal.jpg?resize=50%2C50)

    [Ryan Blunden](http://twitter.com/ryan_blunden) says: [July 25, 2011
    at
    17:09](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-3755)

    For better or worse, I find the extend version much more readable
    and easy to understand.

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=3755#respond)

27. ![image](http://1.gravatar.com/avatar/7a1054e17f3c41c66b1b28d4d6b09379?s=50&d=monsterid&r=G)

    Vince says: [August 27, 2011 at
    00:45](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-4373)

    What’s the curry function doing with those arrays?

~~~~ {.brush: .jscript; .title: .; .notranslate title=""}
Function.prototype.curry = function() {
  var fn = this;
  var args = [].slice.call(arguments, 0);
  return function() {
    return fn.apply(this, args.concat([].slice.call(arguments, 0)));
  };
}
~~~~

    Can you explain this a bit more? It seems like your slicing an empty
    array and then joining it again?

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=4373#respond)

    -   ![image](http://2.gravatar.com/avatar/52c6174ba60557536f93809b4e95d97c?s=50&d=monsterid&r=G)

        [Angus Croll](http://javascriptweblog.wordpress.com) says:
        [August 27, 2011 at
        13:19](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-4380)

        Hi Vince

        The curry function is a function that returns another function.
        The first reference to arguments is the arguments object of the
        curry function, the second is the arguments object of the
        returned function. The concat is joining the two arguments
        objects together.

        The purpose of [].slice.call(arguments, 0) is to convert the
        arguments object (which is not a true array) into an array so
        that concat can be invoked on it. This works by invoking the
        native array slice method ([].slice) on the arguments object
        starting from index 0. The result is the arguments object
        converted to an array

        [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=4380#respond)

28. ![image](http://0.gravatar.com/avatar/?s=50&d=monsterid&r=G)

    Manuel B. says: [November 12, 2011 at
    09:06](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-5769)

    Why the \*return this;\* at the end of asCircle function?

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=5769#respond)

    -   ![image](http://2.gravatar.com/avatar/52c6174ba60557536f93809b4e95d97c?s=50&d=monsterid&r=G)

        [Angus Croll](http://javascriptweblog.wordpress.com) says:
        [November 12, 2011 at
        09:21](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-5770)

        Yeah, its not essential, just a convenience in case you want to
        chain the result of the mixin

        [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=5770#respond)

29. ![image](http://i0.wp.com/graph.facebook.com/100000234631300/picture?q=type%3Dlarge%26_md5%3Dd0aba2600bfe222f1ae5cec781758b91&resize=50%2C50)

    [Vlad Nicula](http://www.facebook.com/willcatcher) says: [December
    2, 2011 at
    11:25](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-6315)

    Great article. I’m thinking about using mixins when developing a
    small UI framework for the company I work for.

    Having the ability to make a Button be an Observable, and a
    Component (which means it has a UI representation) at the same time
    is awesome. However, Component would be an Object… and that’s the
    place where I get stuck.

    Object has the init function.\
     Component should call Object init.\
     Button should call init funciton from Component which calls init
    form Object.\
     Button also calls initEvents from Observable.

    Not sure if it makes any sense :)

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=6315#respond)

30. Pingback: [Coffeescript/Javascript Mixins – Idiot Seeking
    Explanation](http://fatal-errors.com/coffeescriptjavascript-mixins-idiot-seeking-explanation/66694)

31. Pingback:
    [Quora](http://www.quora.com/What-does-it-take-to-be-a-jQuery-ninja#ans967372)

32. Pingback: [My JavaScript reading list |
    KishoreLive](http://kishorelive.com/2012/02/23/my-javascript-reading-list/)

33. ![image](http://2.gravatar.com/avatar/8017605f9fd21238b9073c76c134b2ac?s=50&d=monsterid&r=G)

    bodyscanner says: [April 22, 2012 at
    08:49](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-10145)

    Great article. I have one question re: the final implementation –
    what if you want to access the mixin methods – are they locked in by
    the closure? If I want to update one of the methods can I do it?
    With simple prototype inheritance I can edit the prototype at any
    time and affect all instances. Here it seems difficult to do that:

    asRectangle.grow // no\
     asRectangle.prototype.grow // no\
     RectangularButton.prototype.grow // yes, but curried version

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=10145#respond)

34. Pingback: [Multiple inheritance/prototypes in JavaScript | PHP
    Developer
    Resource](http://www.dkphp.com/questions-2/multiple-inheritanceprototypes-in-javascript.html)

35. Pingback: [Fluent Conference Wins | Chad
    Things](http://chadnorwood.com/2012/06/04/fluent-conference-wins/)

36. ![image](http://1.gravatar.com/avatar/a2c3f14e48789bf1688863f98b3242a4?s=50&d=monsterid&r=G)

    [Loke](http://blog.neolocus.com) says: [July 6, 2012 at
    22:02](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-11995)

    Like your work!

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=11995#respond)

37. Pingback: [JSSpy » A fresh look at javascript
    mixins](http://jsspy.com/a-fresh-look-at-javascript-mixins-2/)

38. ![image](http://i2.wp.com/a0.twimg.com/profile_images/2289599663/maaejuvporusnajum19q_normal.jpeg?resize=50%2C50)

    [Fernando Doglio (@deleteman123)](http://twitter.com/deleteman123)
    says: [August 13, 2012 at
    09:41](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-13048)

    You present a very elegant way of getting Mixins (or whatever you
    wanna call it) into Javascript, I really liked your approach. Keep
    throwing ideas like these our way :)

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=13048#respond)

39. Pingback: [A Fresh Look at JavaScript Mixins | My Daily
    Feeds](http://mydailyfeeds.x10.mx/2012/11/04/a-fresh-look-at-javascript-mixins/)

40. Pingback: [A fresh look at JavaScript Mixins | F2E |
    Scoop.it](http://www.scoop.it/t/f2e/p/3214751653/a-fresh-look-at-javascript-mixins)

41. Pingback: [Ember.js
    Days](http://tranquil-atoll-5210.herokuapp.com/?p=107)

42. Pingback: [Help - I don't know my JavaScript library! - Skateside
    OnlineSkateside
    Online](http://sk80.co.uk/2012/11/help-i-dont-know-my-javascript-library/)

43. Pingback: [Abheben mit Flight: Webframework von Twitter |
    virtualfiles.net](http://www.root-files.de/abheben-mit-flight-webframework-von-twitter/)

44. ![image](http://i2.wp.com/a0.twimg.com/profile_images/1341164960/photo_normal.jpeg?resize=50%2C50)

    [Khalid Jebbari (@Dj3bbZ)](http://twitter.com/Dj3bbZ) says:
    [February 3, 2013 at
    15:53](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-25882)

    Very interesting. But wouldn’t it be better if state AND behaviour
    were part of the mixin ? The problem I see in your method is that
    you created an implicit dependency between a mixin and the instance
    properties needed to run the mixin’s functions. Said another way,
    the \`asRectangle\` can’t work if the object it’s extending doesn’t
    have the \`length\` and \`width\` properties. I’d find a mixin even
    better if everything necessary was encapsulated in one place. I’m
    implicitly referring to the Component-Entity-System architecture
    often used in video-games but that can be applied to other use
    cases.\
     PS : of course such a system shouldn’t attach instance properties
    to the prototype and vice-versa.

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=25882#respond)

    -   ![image](http://2.gravatar.com/avatar/52c6174ba60557536f93809b4e95d97c?s=50&d=monsterid&r=G)

        [Angus Croll](http://javascriptweblog.wordpress.com) says:
        [February 3, 2013 at
        17:20](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-25891)

        Sure, sometimes it makes sense for a mixin to define state – in
        the case that such state is particular to the behavior being
        mixed in. In the case of mixing a rectangle into a button, we
        are assuming that the target object is already suitably shaped –
        and has width and height properties. It would not make sense to
        redefine width and height when the button already has those
        properties

        It’s a murky line – ideally we want the mixin to be agnostic of
        its target object, but on the other hand mixins must be
        complementary, not clobbermentary :)

        At twitter we use advice (before, after and around) to allow
        mixin functions to complement those of the target object without
        clobbering them (or even having to know of their existence). A
        somewhat similar idea could be applied to state properties

        [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=25891#respond)

45. ![image](http://0.gravatar.com/avatar/93d4607255f748950540223a6eece465?s=50&d=monsterid&r=G)

    [vra5107](http://gravatar.com/vra5107) says: [February 21, 2013 at
    15:50](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-29190)

    I don’t think there is method overriding is there ?

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=29190#respond)

46. ![image](http://0.gravatar.com/avatar/93d4607255f748950540223a6eece465?s=50&d=monsterid&r=G)

    [vra5107](http://gravatar.com/vra5107) says: [February 21, 2013 at
    16:19](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-29193)

    No, I take that back. There is method overriding if we use
    functions, but not when using this in conjunction with Simple
    Javascript Inheritance.

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=29193#respond)

47. Pingback: [A fresh look at JavaScript Mixins | JavaScript for
    Business Logic Layers |
    Scoop.it](http://www.scoop.it/t/javascript-for-business-logic-layers/p/3997540020/a-fresh-look-at-javascript-mixins)

48. Pingback: [JSSpy » Jquery roundup: sidr, huey,
    backbone.advice](http://jsspy.com/jquery-roundup-sidr-huey-backbone-advice/)

49. Pingback: [Assorted Links | Buzu’s Oficial
    Blog](http://imbuzu.wordpress.com/2013/04/05/assorted-links/)

50. ![image](http://0.gravatar.com/avatar/3ad85771d10f0c5a2cec8fa19b76c91a?s=50&d=monsterid&r=G)

    [Adrian Miu](http://www.adrianmiu.ro/) says: [April 9, 2013 at
    01:55](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-34429)

    Excelent post. Not to be nitpicking but wouldn’t be more expressive
    to have\
     var CircleBehaviour = function() {/\*… \*/}\
     CircleBehaviour.apply(Button.prototype);

    Also, the “shrinkBy” example seems to me a little counter-intutitive
    because the “shrinkBy” looks like it should be a property of the
    button, like “radius” is for circle. On the other hand I understand
    that would be more difficult to create customizable functional
    mixins by including “configuration” properties.\
     var CircleBehaviour = function() {\
     this.shrinkBy = 2;\
     this.shrink = function() {/\* …. \*/}\
     };\
     would require using the “old” mixing\
     extend(CircleBehaviour, {shrinkBy: 5}).apply(Button.prototype);

    How would you go about using ONLY functional mixin in this
    situation?

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=34429#respond)

51. Pingback: [JS Objects:
    Distractions](http://davidwalsh.name/javascript-objects-distractions)

52. Pingback: [JS Objects: Distractions :
    Studio-ProWeb](http://studio-proweb.com/js-objects-distractions/)

53. ![image](http://i1.wp.com/a0.twimg.com/profile_images/1802449817/fresh_normal.jpg?resize=50%2C50)

    [Devin Rhode (@DevinRhode2)](http://twitter.com/DevinRhode2) says:
    [June 28, 2013 at
    09:00](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-41173)

    Method 4 also gives you named functions and thus better stack traces
    ;)

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=41173#respond)

54. Pingback: [基於組件的框架 Flight | QiHi
    前端技术分享](http://www.qihi.net/archives/18647)

55. ![image](http://1.gravatar.com/avatar/46fb0b45faf9fa575f313c11072814c2?s=50&d=monsterid&r=G)

    [diegofleury Fleury](http://gravatar.com/diegofleury) says: [August
    22, 2013 at
    12:06](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-43887)

    This curry function is a poison man!\
     Your functional mixin pattern is very cool, but the curried options
    is not a often case and is expensive.\
     But even if you really need to use it, I advise you to use a simple
    pattern of curry.\
     As you can see in my revision of jsperf
    ([http://jsperf.com/mixin-fun/34](http://jsperf.com/mixin-fun/34)),
    the result was improved, going to the 3rd position of ops/sec.

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=43887#respond)

56. Pingback: [Extending AngularJS Controllers Using the Mixin Pattern |
    Digital Drive](http://digital-drive.com/?p=188)

57. ![image](http://i1.wp.com/lh6.googleusercontent.com/-DNRHujcjou8/AAAAAAAAAAI/AAAAAAAAAq8/xQ6wgr-FDao/photo.jpg?resize=50%2C50)

    [Brian Mock](https://plus.google.com/108726292989006205874) says:
    [September 29, 2013 at
    16:41](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-45816)

    I was just refactoring some code to use mixins and realized I
    couldn’t do the simple object extend method because I was mixing in
    KO observables, so I thought to make mixins as functions, and lo and
    behold, you have a great writeup on why that’s a good idea. I opted
    for a different signature for my mixin functions, though: function
    DateMixin(self)

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=45816#respond)

58. ![image](http://i1.wp.com/lh5.googleusercontent.com/-Hd7HVHAHdxM/AAAAAAAAAAI/AAAAAAAAFCM/4ZfBGCO_TLg/photo.jpg?resize=50%2C50)

    [Kaleb Hornsby](https://plus.google.com/106258285517412659099) says:
    [October 2, 2013 at
    12:01](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-45950)

    I was curious which “options” strategy when using JS mixins would be
    the most performant, so I made this performance test:
    [http://jsperf.com/mixin-fun-options](http://jsperf.com/mixin-fun-options)

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=45950#respond)

59. ![image](http://0.gravatar.com/avatar/67ed973e160675157c07ba1b74569bf2?s=50&d=monsterid&r=G)

    Shubh says: [November 6, 2013 at
    06:30](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-46972)

    Can you please explain “How same functions get redefined on every
    call in 3. Adding Options ? “

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=46972#respond)

60. ![image](http://0.gravatar.com/avatar/?s=50&d=monsterid&r=G)

    Anonymous says: [November 13, 2013 at
    05:12](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-47196)

    Why are we using call rather than just passing the prototype as a
    parameter?

    ie.

    var mixinRectangle = (function() {\
     function area() {\
     return this.length \* this.width;\
     }\
     return function(obj) {\
     obj.area = area;\
     return obj;\
     };\
     })();

    mixinRectangle(RectangularButton.prototype);

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=47196#respond)

61. Pingback: [Flight Mixins | The "neth" is
    essential](http://kenneth.kufluk.com/blog/2014/01/flight-mixins/)

62. ![image](http://0.gravatar.com/avatar/013705d8688c112fcb47aad089b66ba3?s=50&d=monsterid&r=G)

    [TT TY](http://gravatar.com/totty90) says: [January 28, 2014 at
    16:02](http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/#comment-51208)

    You can see my approach to mixins here:
    [http://www.webdesignporto.com/javascript-classes-and-inheritance/\#mixins](http://www.webdesignporto.com/javascript-classes-and-inheritance/#mixins)
    and their implementation
    [http://www.webdesignporto.com/game-actor-class/](http://www.webdesignporto.com/game-actor-class/)

    [Reply](/2011/05/31/a-fresh-look-at-javascript-mixins/?replytocom=51208#respond)

### Leave a Reply [Cancel reply](/2011/05/31/a-fresh-look-at-javascript-mixins/#respond)

Enter your comment here...

Fill in your details below or click an icon to log in:

-   [](#comment-form-guest "Guest")
-   [](#comment-form-load-service:WordPress.com "WordPress.com")
-   [](#comment-form-load-service:Twitter "Twitter")
-   [](#comment-form-load-service:Facebook "Facebook")
-   

[![Gravatar](http://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&d=monsterid&forcedefault=y&r=G)](https://gravatar.com/site/signup/)

Email (Address never made public)

Name

Website

![WordPress.com
Logo](http://s2.wp.com/wp-content/mu-plugins/highlander-comments/images/wplogo.png?m=1391188133g)

**** You are commenting using your WordPress.com account. ( [Log
Out](javascript:HighlanderComments.doExternalLogout(%20'wordpress'%20);)
/ [Change](#) )

![Twitter
picture](http://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&d=monsterid&forcedefault=y&r=G)

**** You are commenting using your Twitter account. ( [Log
Out](javascript:HighlanderComments.doExternalLogout(%20'twitter'%20);) /
[Change](#) )

![Facebook
photo](http://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&d=monsterid&forcedefault=y&r=G)

**** You are commenting using your Facebook account. ( [Log
Out](javascript:HighlanderComments.doExternalLogout(%20'facebook'%20);)
/ [Change](#) )

![Google+
photo](http://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&d=monsterid&forcedefault=y&r=G)

**** You are commenting using your Google+ account. ( [Log
Out](javascript:HighlanderComments.doExternalLogout(%20'googleplus'%20);)
/ [Change](#) )

[Cancel](javascript:HighlanderComments.cancelExternalWindow();)

Connecting to %s

Notify me of follow-up comments via email.

Notify me of new posts via email.

[Blog at WordPress.com](http://wordpress.com/?ref=footer). | [The Ari
Theme](http://theme.wordpress.com/themes/ari/ "Learn more about this theme").

[Follow](javascript:void(0))

### Follow “JavaScript, JavaScript...”

Get every new post delivered to your Inbox.

Join 449 other followers

[Powered by WordPress.com](http://wordpress.com/signup/?ref=lof)

%d bloggers like this:

![image](http://stats.wordpress.com/b.gif?v=noscript)

This markdown document has been converted from the html document located at:
http://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/
