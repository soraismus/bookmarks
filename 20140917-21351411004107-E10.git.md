[Skip to content](#start-of-content)

[](https://github.com/)

[Sign up](/join) [Sign
in](/login?return_to=%2Fk88hudson%2Fgit-flight-rules)

This repository

-   [Explore](/explore)
-   [Features](/features)
-   [Enterprise](https://enterprise.github.com/)
-   [Blog](/blog)

-   [Star](/login?return_to=%2Fk88hudson%2Fgit-flight-rules)
    [2,296](/k88hudson/git-flight-rules/stargazers)
-   [Fork](/login?return_to=%2Fk88hudson%2Fgit-flight-rules)
    [93](/k88hudson/git-flight-rules/network)

[k88hudson](/k88hudson)/**[git-flight-rules](/k88hudson/git-flight-rules)** ![image](https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif)
==========================================================================================================================================================

-   [Code
    ![image](https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif)](/k88hudson/git-flight-rules)
-   [Issues
    ![image](https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif)](/k88hudson/git-flight-rules/issues)
-   [Pull Requests
    ![image](https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif)](/k88hudson/git-flight-rules/pulls)

-   [Pulse
    ![image](https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif)](/k88hudson/git-flight-rules/pulse/weekly)
-   [Graphs
    ![image](https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif)](/k88hudson/git-flight-rules/graphs)

### HTTPS clone URL

### Subversion checkout URL

You can clone with [HTTPS](#) or [Subversion](#).
[](https://help.github.com/articles/which-remote-url-should-i-use)

[Download
ZIP](/k88hudson/git-flight-rules/archive/master.zip "Download the contents of k88hudson/git-flight-rules as a zip file")

Flight rules for git - a work in progress!

-   [33 commits](/k88hudson/git-flight-rules/commits/master)
-   [1 branch](/k88hudson/git-flight-rules/branches)
-   [0 releases](/k88hudson/git-flight-rules/releases)
-   [10 contributors](/k88hudson/git-flight-rules/graphs/contributors)

[](/k88hudson/git-flight-rules/find/master)
[](/k88hudson/git-flight-rules/compare)

*branch:* master

Switch branches/tags

-   [Branches](#)
-   [Tags](#)

[master](/k88hudson/git-flight-rules/tree/master "master")

Nothing to show

Nothing to show

[git-flight-rules](/k88hudson/git-flight-rules) /

[Merge pull
request](/k88hudson/git-flight-rules/commit/fc2ec9c64a892522dc5838e0cbfb55fad3444568 "Merge pull request #21 from jwhear/master

Use `branch` instead of `checkout -b`")
[\#21](https://github.com/k88hudson/git-flight-rules/pull/21 "Use `branch` instead of `checkout -b`")
[from
jwhear/master](/k88hudson/git-flight-rules/commit/fc2ec9c64a892522dc5838e0cbfb55fad3444568 "Merge pull request #21 from jwhear/master

Use `branch` instead of `checkout -b`") […](#)

    Use `branch` instead of `checkout -b`

[latest commit
fc2ec9c64a](/k88hudson/git-flight-rules/commit/fc2ec9c64a892522dc5838e0cbfb55fad3444568)

![Kate
Hudson](https://avatars3.githubusercontent.com/u/1455535?v=2&s=40)
[k88hudson](/k88hudson) authored August 22, 2014

  -------------------------------------------------------------------------------- ---------------------------------------------------------------------------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -----------------
  ![image](https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif)   [README.md](/k88hudson/git-flight-rules/blob/master/README.md "README.md")   [Merge pull request](/k88hudson/git-flight-rules/commit/fc2ec9c64a892522dc5838e0cbfb55fad3444568 "Merge pull request #21 from jwhear/master                                                                                                                                                 August 22, 2014
                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                Use `branch` instead of `checkout -b`") [\#21](https://github.com/k88hudson/git-flight-rules/pull/21 "Use `branch` instead of `checkout -b`") [from jwhear/master](/k88hudson/git-flight-rules/commit/fc2ec9c64a892522dc5838e0cbfb55fad3444568 "Merge pull request #21 from jwhear/master   
                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                Use `branch` instead of `checkout -b`")                                                                                                                                                                                                                                                     
  -------------------------------------------------------------------------------- ---------------------------------------------------------------------------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -----------------

### README.md

[](#flight-rules-for-git)Flight rules for git
=============================================

### [](#what-are-flight-rules)What are "flight rules"?

A [guide for
astronauts](http://www.jsc.nasa.gov/news/columbia/fr_generic.pdf) (now,
programmers using git) about what to do when things go wrong.

> *Flight Rules* are the hard-earned body of knowledge recorded in
> manuals that list, step-by-step, what to do if X occurs, and why.
> Essentially, they are extremely detailed, scenario-specific standard
> operating procedures. [...]
>
> NASA has been capturing our missteps, disasters and solutions since
> the early 1960s, when Mercury-era ground teams first started gathering
> "lessons learned" into a compendium that now lists thousands of
> problematic situations, from engine failure to busted hatch handles to
> computer glitches, and their solutions.

— Chris Hadfield, *An Astronaut's Guide to Life*.

### [](#conventions-for-this-document)Conventions for this document

For clarity's sake all examples in this document use customized bash
prompt in order to indicate the current branch and whether or not there
are staged changes. The branch is enclosed in parentheses, and a `*`
next to the branch name indicates staged changes.

[](#i-need-to-add-staged-changes-to-the-previous-commit)I need to add staged changes to the previous commit
-----------------------------------------------------------------------------------------------------------

    (my-branch*)$ git commit --amend

### [](#i-tried-to-push-my-amended-commit-to-a-remote-but-i-got-an-error-message)I tried to push my amended commit to a remote, but I got an error message

Note that, as with rebasing (see below), amending **replaces the old
commit with a new one**, so you must force push (`-f`) your changes if
you have already pushed the pre-amended commit to your remote. Be
careful when you do this – *always* make sure you specify a branch!

In fact, if you are not the only developer using the repo **avoid force
pushing**. It is best to create and push a new commit rather than
force-pushing the amended commit as it has the potential to mess with
the shared history.

[](#i-need-to-combine-commits)I need to combine commits
-------------------------------------------------------

You need to do something called an interactive rebase.

If you are working in a branch that is/will become a pull-request
against `master`, you can rebase against your `master` branch. Make sure
it is up to date:

    (my-branch)$ git rebase -i master

If you aren't working against another branch you'll have to rebase
relative to your `HEAD`. If you want to squash the last 2 commits, for
example, you'll have to rebase against `HEAD~2`. For the last 3,
`HEAD~3`, etc.

    (master)$ git rebase -i HEAD~2

After you run the interactive rebase command, you will see something
like this in your text editor:

    pick 01b2fd8 New awesome feature
    pick b729ad5 fixup
    pick e3851e8 another fix

    # Rebase 8074d12..b729ad5 onto 8074d12
    #
    # Commands:
    #  p, pick = use commit
    #  r, reword = use commit, but edit the commit message
    #  e, edit = use commit, but stop for amending
    #  s, squash = use commit, but meld into previous commit
    #  f, fixup = like "squash", but discard this commit's log message
    #  x, exec = run command (the rest of the line) using shell
    #
    # These lines can be re-ordered; they are executed from top to bottom.
    #
    # If you remove a line here THAT COMMIT WILL BE LOST.
    #
    # However, if you remove everything, the rebase will be aborted.
    #
    # Note that empty commits are commented out

All the lines beginning with a `#` are comments, they won't affect your
rebase.

If you want to **combine all your commits with the oldest (first)
commit**, you should edit the letter next to each commit except the
first to say `f`:

    pick 01b2fd8 New awesome feature
    f b729ad5 fixup
    f e3851e8 another fix

If you want to combine all your commit with the oldest commit **and
rename the commit**, you should additionally add an `r` next to the
first commit:

    r 01b2fd8 New awesome feature
    f b729ad5 fixup
    f e3851e8 another fix

You can then rename the commit in the next text prompt that pops up.

    Newer, awesomer features

    # Please enter the commit message for your changes. Lines starting
    # with '#' will be ignored, and an empty message aborts the commit.
    # rebase in progress; onto 8074d12
    # You are currently editing a commit while rebasing branch 'master' on '8074d12'.
    #
    # Changes to be committed:
    #   modified:   README.md
    #

If everything is successful, you should see something like this:

    (master)$ Successfully rebased and updated refs/heads/master.

#### [](#i-want-to-combine-only-unpushed-commits)I want to combine only unpushed commits

Sometimes you have several work in progress commits that you want to
combine before you push them upstream. You don't want to accidentally
combine any commits that have already been pushed upstream because
someone else may have already made commits that reference them.

    (master)$ git rebase -i @{u}

This will do an interactive rebase that lists only the commits that you
haven't already pushed, so it will be safe to reorder/fix/squash
anything in the list.

### [](#possible-issues-with-interactive-rebases)Possible issues with interactive rebases

#### [](#the-rebase-editing-screen-says-noop)The rebase editing screen says 'noop'

If you're seeing this:

    noop

That means you are trying to rebase against a branch that is at an
identical commit, or is *ahead* of your current branch. You can try:

-   making sure your master branch is where it should be
-   rebase against `HEAD~2` or earlier instead

#### [](#there-were-conflicts)There were conflicts

If you are unable to successfully complete the rebase, you may have to
resolve conflicts.

First run `git status` to see which files have conflicts in them:

    (my-branch)$ git status
    On branch my-branch
    Changes not staged for commit:
      (use "git add <file>..." to update what will be committed)
      (use "git checkout -- <file>..." to discard changes in working directory)

        modified:   README.md

In this example, `README.md` has conflicts. Open that file and look for
the following:

    <<<<<<< HEAD
    some code
    =========
    some code
    >>>>>>> new-commit

You will need to resolve the differences between the code that was added
in your new commit (in the example, everything from the middle line to
`new-commit`) and your `HEAD`.

After you have resolved all conflicts and tested your code, `git add`
the files you have changed, and then continue the rebase with
`git rebase --continue`

    (my-branch)$ git add README.md
    (my-branch)$ git rebase --continue

If at any time you want to stop the entire rebase and go back to the
original state of your branch, you can do so:

    (my-branch)$ git rebase --abort

#### [](#when-i-try-to-push-i-get-an-error-message)When I try to push, I get an error message:

    To https://github.com/yourusername/repo.git
    ! [rejected]        mybranch -> mybranch (non-fast-forward)
    error: failed to push some refs to 'https://github.com/tanay1337/webmaker.org.git'
    hint: Updates were rejected because the tip of your current branch is behind
    hint: its remote counterpart. Integrate the remote changes (e.g.
    hint: 'git pull ...') before pushing again.
    hint: See the 'Note about fast-forwards' in 'git push --help' for details.

Since rebasing **replaces the old commit(s) with a new one**, you must
force push (`-f`) your changes. Be careful when you do this – *always*
make sure you specify a branch!

    (mybranch) $ git push origin mybranch -f

[](#i-committed-with-the-wrong-name-and-email-configured)I committed with the wrong name and email configured
-------------------------------------------------------------------------------------------------------------

If it's a single commit, amend it

    $ git commit --amend --author "New Authorname <authoremail@mydomain.com>" 

If you need to change all of history, see the man page for 'git
filter-branch'

[](#i-committed-to-master-instead-of-a-new-branch)I committed to master instead of a new branch
-----------------------------------------------------------------------------------------------

Create the new branch while remaining on master:

    (master)$ git branch new-branch 

Find out what the commit hash you want to set your master branch to
(`git log` should do the trick). Then reset to that hash.

For example, if the hash of the commit that your master branch is
supposed to be at is `a13b85e`:

    (master)$ git reset --hard a13b85e
    HEAD is now at a13b85e

Checkout the new branch to continue working:

    (master)$ git checkout new-branch

[](#i-made-several-commits-on-a-single-branch-that-should-be-on-different-branches)I made several commits on a single branch that should be on different branches
-----------------------------------------------------------------------------------------------------------------------------------------------------------------

Say you are on your master branch. Running `git log`, you see you have
made two commits:

    (master)$ git log

    commit e3851e817c451cc36f2e6f3049db528415e3c114
    Author: Alex Lee <alexlee@exampledomain123.com>
    Date:   Tue Jul 22 15:39:27 2014 -0400

        Bug #21 - Added CSRF protection

    commit 5ea51731d150f7ddc4a365437931cd8be3bf3131
    Author: Alex Lee <alexlee@exampledomain123.com>
    Date:   Tue Jul 22 15:39:12 2014 -0400

        Bug #14 - Fixed spacing on title

    commit a13b85e984171c6e2a1729bb061994525f626d14
    Author: Aki Rose <akirose@exampledomain123.com>
    Date:   Tue Jul 21 01:12:48 2014 -0400

        First commit

Let's take note of our commit hashes for each bug (`e3851e8` for \#21,
`5ea5173` for \#14).

First, let's reset our master branch to the correct commit (`a13b85e`):

    (master)$ git reset --hard a13b85e
    HEAD is now at a13b85e

Now, we can create a fresh branch for our bug \#21 branch:

    (master)$ git checkout -b 21
    (21)$

Now, let's *cherry-pick* the commit for bug \#21 on top of our branch.
That means we will be applying that commit, and only that commit,
directly on top of whatever our head is at.

    (21)$ git cherry-pick e3851e8

At this point, there is a possibility there might be conflicts. See the
[**There were conflicts**](#merge-conflict) section in the [interactive
rebasing section above](#interactive-rebase) for how to resolve
conflicts.

Now let's create a new branch for bug \#14, also based on master

    (21)$ git checkout master
    (master)$ git checkout -b 14
    (14)$

And finally, let's cherry-pick the commit for bug \#14:

    (14)$ git cherry-pick 5ea5173

[](#i-accidentaly-deleted-my-branch)I accidentaly deleted my branch
-------------------------------------------------------------------

If you're regularly pushing to remote, you should be safe most of the
time. But still sometimes you may end up deleting your branches. Let's
say we create a branch and create a new file:

    (master)$ git checkout -b branch-1
    (branch-1)$ git branch
    (branch-1)$ touch foo.txt
    (branch-1)$ ls
    README.md foo.txt

Let's add it and commit.

    (branch-1)$ git add .
    (branch-1)$ git commit -m 'foo.txt added'
    (branch-1)$ foo.txt added
     1 files changed, 1 insertions(+)
     create mode 100644 foo.txt
    (branch-1)$ git log

    commit 4e3cd85a670ced7cc17a2b5d8d3d809ac88d5012
    Author: siemiatj <kuba@saucelabs.com>
    Date:   Wed Jul 30 00:34:10 2014 +0200

        foo.txt added

    commit 69204cdf0acbab201619d95ad8295928e7f411d5
    Author: Kate Hudson <k88hudson@gmail.com>
    Date:   Tue Jul 29 13:14:46 2014 -0400

        Fixes #6: Force pushing after amending commits

Now we're switching back to master and 'accidentaly' removing our
branch.

    (branch-1)$ git checkout master
    Switched to branch 'master'
    Your branch is up-to-date with 'origin/master'.
    (master)$ git branch -D branch-1
    Deleted branch branch-1 (was 4e3cd85).
    (master)$ echo oh noes, deleted my branch!
    oh noes, deleted my branch!

At this point you should get familiar with 'reflog', an upgraded logger.
It stores the history of all the action in the repo.

    (master)$ git reflog
    69204cd HEAD@{0}: checkout: moving from branch-1 to master
    4e3cd85 HEAD@{1}: commit: foo.txt added
    69204cd HEAD@{2}: checkout: moving from master to branch-1

As you can see we have commit hash from our deleted branch. Let's see if
we can restore our deleted branch.

    (master)$ git checkout -b branch-1-help
    Switched to a new branch 'branch-1-help'
    (branch-1-help)$ git reset --hard 4e3cd85
    HEAD is now at 4e3cd85 foo.txt added
    (branch-1-help)$ ls
    README.md foo.txt

Voila! We got our removed file back. Git reflog is also useful when
rebasing goes terribly wrong.

-   [Status](https://status.github.com/)
-   [API](http://developer.github.com)
-   [Training](http://training.github.com)
-   [Shop](http://shop.github.com)
-   [Blog](/blog)
-   [About](/about)

[](/)

-   © 2014 GitHub, Inc.
-   [Terms](/site/terms)
-   [Privacy](/site/privacy)
-   [Security](/security)
-   [Contact](/contact)

[](#) [](#)

[](#) Something went wrong with that request. Please try again.

This markdown document has been converted from the html document located at:
https://github.com/k88hudson/git-flight-rules
